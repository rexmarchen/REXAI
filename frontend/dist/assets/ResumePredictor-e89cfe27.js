import{r as m,a,j as r,F as it}from"./index-4e2d78c6.js";import{a as ue}from"./apiClient-7b8a2ab4.js";const Ve="http://127.0.0.1:8000".replace(/\/+$/,""),at=e=>!(e!=null&&e.response)&&/network error|failed to fetch|load failed|ecconnrefused|err_network/i.test(String((e==null?void 0:e.message)||"")),Ke=e=>{var n;const t=Number(((n=e==null?void 0:e.response)==null?void 0:n.status)||0);return at(e)||t===404||t===502||t===503},ot=async(e,t={})=>{const n=new FormData;n.append("file",e),t.jobDescription&&n.append("job_description",t.jobDescription),t.location&&n.append("location",t.location),typeof t.remote=="boolean"&&n.append("remote",String(t.remote));try{return await ue.post("/ml/predict",n)}catch(l){if(!Ke(l))throw l;const o=await fetch(`${Ve}/predict`,{method:"POST",body:n});if(!o.ok){const d=await o.json().catch(()=>({})),p=String((d==null?void 0:d.detail)||(d==null?void 0:d.message)||"").trim();throw new Error(p||`ML service returned ${o.status}`)}return o.json()}},qe=async(e,t={})=>{const n=new URLSearchParams;n.append("query",e),t.location&&n.append("location",t.location),typeof t.remote=="boolean"&&n.append("remote",String(t.remote)),t.page&&n.append("page",t.page);try{return await ue.get(`/ml/jobs/search?${n.toString()}`)}catch(l){if(!Ke(l))throw l;const o=await fetch(`${Ve}/jobs/search?${n.toString()}`,{method:"GET"});if(!o.ok)throw new Error(`ML jobs endpoint returned ${o.status}`);return o.json()}},V={name:"Candidate",skills:[],education:"",certifications:[],projects:[],experience_years:0,role_target:"Software Engineer"},j=20,lt=15,Fe=15,ct=["Bengaluru","Hyderabad","Pune","Mumbai","Chennai","Gurugram","Noida"],dt=["india","bengaluru","bangalore","hyderabad","pune","mumbai","chennai","gurugram","gurgaon","noida","delhi","ncr","new delhi"],pt=[{id:"ml-1",title:"Machine Learning Engineer",company:"Antal International",location:"Hyderabad",salary:"INR 15-20 LPA",exp:"2-5 yrs",keywords:["machine learning","python","tensorflow","nlp","deep learning"],platform:"naukri",naukriUrl:"https://www.naukri.com/machine-learning-engineer-jobs-in-hyderabad",linkedinUrl:"https://www.linkedin.com/jobs/search/?keywords=Machine+Learning+Engineer&location=Hyderabad%2C+Telangana%2C+India",glassdoorUrl:"https://www.glassdoor.co.in/Job/hyderabad-machine-learning-engineer-jobs-SRCH_IL.0,9_IC2937408_KO10,35.htm"},{id:"ds-1",title:"Data Scientist (NLP)",company:"Jio Platforms",location:"Mumbai",salary:"INR 12-18 LPA",exp:"2-5 yrs",keywords:["data science","python","nlp","sql","scikit-learn"],platform:"linkedin",naukriUrl:"https://www.naukri.com/data-scientist-jobs-in-mumbai?k=data+scientist+nlp",linkedinUrl:"https://www.linkedin.com/jobs/search/?keywords=Data+Scientist+NLP&location=Mumbai%2C+Maharashtra%2C+India",glassdoorUrl:"https://www.glassdoor.co.in/Job/mumbai-data-scientist-jobs-SRCH_IL.0,6_IC2940912_KO7,21.htm"},{id:"fs-1",title:"Full Stack Developer",company:"Razorpay",location:"Bengaluru",salary:"INR 16-25 LPA",exp:"2-5 yrs",keywords:["react","node.js","javascript","typescript","sql"],platform:"naukri",naukriUrl:"https://www.naukri.com/full-stack-developer-jobs-in-bengaluru-bangalore?k=full+stack+developer",linkedinUrl:"https://www.linkedin.com/jobs/search/?keywords=Full+Stack+Developer&location=Bengaluru%2C+Karnataka%2C+India",glassdoorUrl:"https://www.glassdoor.co.in/Job/bengaluru-full-stack-developer-jobs-SRCH_IL.0,9_IC2940587_KO10,30.htm"},{id:"be-1",title:"Backend Developer",company:"PhonePe",location:"Bengaluru",salary:"INR 14-22 LPA",exp:"2-6 yrs",keywords:["node.js","express.js","mongodb","api","sql"],platform:"naukri",naukriUrl:"https://www.naukri.com/backend-developer-jobs-in-bengaluru-bangalore?k=backend+developer",linkedinUrl:"https://www.linkedin.com/jobs/search/?keywords=Backend+Developer&location=Bengaluru%2C+Karnataka%2C+India",glassdoorUrl:"https://www.glassdoor.co.in/Job/bengaluru-backend-developer-jobs-SRCH_IL.0,9_IC2940587_KO10,27.htm"},{id:"devops-1",title:"DevOps Engineer",company:"Infosys",location:"Pune",salary:"INR 11-18 LPA",exp:"3-6 yrs",keywords:["aws","docker","kubernetes","ci/cd","linux"],platform:"linkedin",naukriUrl:"https://www.naukri.com/devops-engineer-jobs-in-pune",linkedinUrl:"https://www.linkedin.com/jobs/search/?keywords=DevOps+Engineer&location=Pune%2C+Maharashtra%2C+India",glassdoorUrl:"https://www.glassdoor.co.in/Job/pune-devops-engineer-jobs-SRCH_IL.0,4_IC2856202_KO5,21.htm"},{id:"an-1",title:"Senior Data Analyst",company:"Ola Electric",location:"Bengaluru",salary:"INR 12-18 LPA",exp:"3-6 yrs",keywords:["data analysis","sql","python","tableau","reporting"],platform:"naukri",naukriUrl:"https://www.naukri.com/senior-data-analyst-jobs-in-bengaluru-bangalore?k=senior+data+analyst",linkedinUrl:"https://www.linkedin.com/jobs/search/?keywords=Senior+Data+Analyst&location=Bengaluru%2C+Karnataka%2C+India",glassdoorUrl:"https://www.glassdoor.co.in/Job/bengaluru-senior-data-analyst-jobs-SRCH_IL.0,9_IC2940587_KO10,29.htm"}],De={naukri:{label:"Naukri",color:"#f05537"},linkedin:{label:"LinkedIn",color:"#0a66c2"},glassdoor:{label:"Glassdoor",color:"#0f9b57"}};function we(e,t,n){return Math.max(t,Math.min(n,e))}function ee(e){return Array.isArray(e)?e.map(t=>String(t||"").trim()).filter(Boolean):[]}function ut(e){const t={...V,...e||{}},n=Number(t.experience_years);return{...t,name:String(t.name||V.name).trim()||V.name,role_target:String(t.role_target||V.role_target).trim()||V.role_target,skills:ee(t.skills),certifications:ee(t.certifications),projects:ee(t.projects),education:String(t.education||"").trim(),experience_years:Number.isFinite(n)?Math.max(0,n):0}}function mt(e){const t=String(e||"").toLowerCase();return t.includes("linkedin")?"linkedin":t.includes("glassdoor")?"glassdoor":"naukri"}function ht(e){const t=Array.isArray(e.required_skills)?e.required_skills:[],n=String(e.title||""),l=String(e.description||"");return ee([...t,...n.split(/\s+/),...l.split(/\s+/)]).slice(0,30)}function ft(e,t){return Array.isArray(e)?e.map((n,l)=>{const o=String(n.apply_link||"").trim(),d=mt(o),p=ht(n),u={id:String(n.id||o||`${l}`),title:String(n.title||"Software Engineer").trim(),company:String(n.company||"Unknown Company").trim(),location:String(n.location||"Remote/Hybrid").trim(),description:String(n.description||"").trim(),salary:String(n.salary||"Not disclosed").trim(),exp:String(n.required_experience||"Experience not specified").trim(),keywords:p,platform:d,naukriUrl:o,linkedinUrl:o,glassdoorUrl:o,primaryUrl:o};return{...u,matchScore:Ye(u,t)}}).filter(n=>n.title):[]}function Pe(e){const t=new Set,n=[];for(const l of e){const o=`${String(l.title||"").toLowerCase()}-${String(l.company||"").toLowerCase()}-${String(l.location||"").toLowerCase()}`;!o.trim()||t.has(o)||(t.add(o),n.push(l))}return n}function gt(e){const t=String(e.role_target||V.role_target).trim(),n=ee(e.skills).slice(0,3);return Array.from(new Set([t,...n.map(l=>`${t} ${l}`.trim())])).filter(Boolean)}function _t(e){const t=String(e.role_target||"").toLowerCase();let n=[...ct];return t.includes("data")||t.includes("ai")||t.includes("ml")?n=["Bengaluru","Hyderabad","Pune","Mumbai","Chennai"]:t.includes("frontend")||t.includes("web")||t.includes("full stack")||t.includes("backend")?n=["Bengaluru","Hyderabad","Pune","Gurugram","Noida","Chennai"]:(t.includes("devops")||t.includes("cloud"))&&(n=["Bengaluru","Pune","Hyderabad","Chennai","Gurugram"]),Array.from(new Set(n)).slice(0,6)}function Ue(e){const t=String(e||"").toLowerCase();return t?dt.some(n=>t.includes(n)):!1}function yt(e,t){const n=String(t.role_target||"").toLowerCase().split(/\s+/).map(u=>u.trim()).filter(u=>u.length>2),l=ee(t.skills).map(u=>u.toLowerCase()).filter(u=>u.length>2).slice(0,12),o=`${e.title} ${e.description||""} ${e.keywords.join(" ")}`.toLowerCase(),d=n.filter(u=>o.includes(u)).length,p=l.filter(u=>o.includes(u)).length;return d>0||p>0}function Ye(e,t){const n=t.role_target.toLowerCase(),l=t.skills.map(g=>g.toLowerCase()),o=t.certifications.map(g=>g.toLowerCase()),d=t.projects.map(g=>g.toLowerCase()),p=`${e.title} ${e.keywords.join(" ")}`.toLowerCase();let u=35;for(const g of l)g&&p.includes(g)&&(u+=6);for(const g of o){const x=g.split(/\s+/)[0];x&&p.includes(x)&&(u+=2)}for(const g of d){const x=g.split(/\s+/)[0];x&&p.includes(x)&&(u+=1)}return n&&p.includes(n.split(/\s+/)[0])&&(u+=8),u+=we(t.experience_years,0,8),we(Math.round(u),20,98)}function kt(e){return e>=75?{label:"Highly Ready",color:"#00e5a0"}:e>=50?{label:"Moderately Ready",color:"#f5c518"}:{label:"Needs Prep",color:"#ff4e6a"}}function ze(e){return pt.map(t=>({...t,matchScore:Ye(t,e),primaryUrl:t.platform==="linkedin"?t.linkedinUrl:t.platform==="glassdoor"?t.glassdoorUrl:t.naukriUrl})).sort((t,n)=>n.matchScore-t.matchScore)}function Oe(e,t){if(e.length===0)return[];const n=["Bengaluru","Hyderabad","Pune","Mumbai","Chennai","Gurugram","Noida"],l=[];let o=0;for(;l.length<t;){const d=e[o%e.length],p=Math.floor(o/e.length),u=p===0?d.location:n[(o+p)%n.length],g=p===0?d.company:`${d.company} ${p+1}`,x=`${d.id}-v${p}-${o}`;l.push({...d,id:x,company:g,location:u,exp:d.exp,matchScore:we(d.matchScore-p*2,20,98)}),o+=1}return l}function St(e){return e>=75?"high":e>=50?"mid":"low"}function bt(e){return e>=75?"#00e5a0":e>=50?"#f5c518":"#ff4e6a"}function wt({score:e}){const t=bt(e);return a("div",{style:h.meterWrap,children:[r("div",{style:h.meterTrack,children:r("div",{style:{...h.meterFill,width:`${e}%`,backgroundColor:t}})}),a("p",{style:{...h.meterLabel,color:t},children:[e,"% match"]})]})}function Nt({job:e}){const t=kt(e.matchScore),n=De[e.platform]||De.naukri;return a("article",{style:h.card,children:[a("div",{style:h.cardTopRow,children:[r("span",{style:{...h.platformBadge,borderColor:`${n.color}66`,color:n.color},children:n.label}),a("span",{style:h.scoreBadge,children:[e.matchScore,"%"]})]}),r("h3",{style:h.cardTitle,children:e.title}),r("p",{style:h.cardCompany,children:e.company}),a("p",{style:h.cardMeta,children:[e.location," | ",e.exp]}),r("p",{style:h.cardSalary,children:e.salary}),r(wt,{score:e.matchScore}),r("div",{style:{...h.readyBadge,color:t.color,borderColor:`${t.color}4d`},children:t.label}),a("div",{style:h.linkGrid,children:[r("a",{href:e.naukriUrl,target:"_blank",rel:"noreferrer",style:h.linkBtn,children:"Naukri Apply"}),r("a",{href:e.linkedinUrl,target:"_blank",rel:"noreferrer",style:h.linkBtn,children:"LinkedIn Apply"}),r("a",{href:e.glassdoorUrl,target:"_blank",rel:"noreferrer",style:h.linkBtn,children:"Glassdoor Apply"})]}),r("a",{href:e.primaryUrl,target:"_blank",rel:"noreferrer",style:h.primaryApply,children:"Apply Now"})]})}function xt({resume:e=V}){const t=m.useMemo(()=>ut(e),[e]),[n,l]=m.useState([]),[o,d]=m.useState(""),[p,u]=m.useState("all"),[g,x]=m.useState(!1),[c,L]=m.useState("");m.useEffect(()=>{let N=!1;return(async()=>{x(!0),L("");try{const D=gt(t),J=_t(t),se=D.flatMap(b=>J.map(v=>({query:b,location:v}))),me=(await Promise.all(se.map(({query:b,location:v})=>qe(b,{location:v,remote:!1})))).flatMap(b=>(b==null?void 0:b.jobs)||[]),O=ft(me,t).sort((b,v)=>v.matchScore-b.matchScore),K=O.filter(b=>Ue(b.location)&&yt(b,t)),P=O.filter(b=>Ue(b.location)),ae=Pe([...K,...P]).slice(0,j),oe=ze(t),ne=Oe(oe,j),$=[...ae.slice(0,j)];if($.length<lt){const b=new Set($.map(v=>`${String(v.title).toLowerCase()}-${String(v.company).toLowerCase()}-${String(v.location).toLowerCase()}`));for(const v of ne){const q=`${String(v.title).toLowerCase()}-${String(v.company).toLowerCase()}-${String(v.location).toLowerCase()}`;if(!b.has(q)&&($.push(v),b.add(q),$.length>=j))break}}$.length<Fe&&$.push(...ne.slice(0,Fe-$.length));const re=Pe($).slice(0,j);re.sort((b,v)=>v.matchScore-b.matchScore),N||l(re)}catch{if(!N){L("Live India IT jobs could not be loaded, showing India fallback results.");const J=Oe(ze(t),j);l(J)}}finally{N||x(!1)}})(),()=>{N=!0}},[t]);const A=m.useMemo(()=>{const N=o.toLowerCase().trim();return n.filter(T=>{const D=p==="all"?!0:St(T.matchScore)===p,J=N.length===0?!0:`${T.title} ${T.company} ${T.location}`.toLowerCase().includes(N);return D&&J})},[n,o,p]),E=n.length===0?0:Math.round(n.reduce((N,T)=>N+T.matchScore,0)/n.length);return a("section",{style:h.root,children:[r("style",{children:vt}),a("header",{style:h.header,children:[r("p",{style:h.kicker,children:"AI JOB MATCHING"}),r("h2",{style:h.heading,children:"Matched Opportunities"}),a("p",{style:h.subheading,children:["Showing role-fit jobs for ",r("strong",{children:t.name})," targeting"," ",r("strong",{children:t.role_target}),"."]})]}),a("div",{style:h.summaryRow,children:[a("div",{style:h.summaryItem,children:[r("span",{style:h.summaryValue,children:n.length}),r("span",{style:h.summaryLabel,children:"Jobs Found"})]}),a("div",{style:h.summaryItem,children:[a("span",{style:h.summaryValue,children:[E,"%"]}),r("span",{style:h.summaryLabel,children:"Avg Match"})]}),a("div",{style:h.summaryItem,children:[r("span",{style:h.summaryValue,children:t.experience_years}),r("span",{style:h.summaryLabel,children:"Years Exp"})]})]}),a("div",{style:h.controls,children:[r("input",{type:"text",value:o,onChange:N=>d(N.target.value),placeholder:"Search role, company, city",style:h.searchInput}),r("div",{style:h.filterRow,children:[["all","All"],["high","75%+"],["mid","50-74%"],["low","<50%"]].map(([N,T])=>r("button",{type:"button",onClick:()=>u(N),style:{...h.filterBtn,...p===N?h.filterBtnActive:{}},children:T},N))})]}),g&&r("div",{style:h.infoText,children:"Loading live job vacancies..."}),c&&r("div",{style:h.warnText,children:c}),A.length===0?r("div",{style:h.emptyState,children:"No jobs matched this filter. Try changing search or score band."}):r("div",{style:h.grid,children:A.map(N=>r(Nt,{job:N},N.id))})]})}const vt=`
  @import url('https://fonts.googleapis.com/css2?family=Syne:wght@500;700;800&family=DM+Sans:wght@400;500;700&display=swap');
`,h={root:{width:"100%",backgroundColor:"#090d16",border:"1px solid #173040",borderRadius:"18px",padding:"24px",color:"#e8ecf3",fontFamily:"'DM Sans', sans-serif",boxShadow:"0 24px 48px rgba(0, 0, 0, 0.35)"},header:{marginBottom:"18px"},kicker:{color:"#00e5a0",letterSpacing:"0.16em",fontSize:"11px",fontWeight:700,marginBottom:"8px"},heading:{margin:0,fontSize:"clamp(24px, 4vw, 32px)",fontFamily:"'Syne', sans-serif",lineHeight:1.15},subheading:{marginTop:"8px",color:"#9ea9bc",lineHeight:1.6},summaryRow:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:"10px",marginBottom:"16px"},summaryItem:{backgroundColor:"#0f1623",border:"1px solid #1a2d40",borderRadius:"12px",padding:"12px"},summaryValue:{display:"block",fontSize:"24px",fontWeight:700,color:"#00e5a0",fontFamily:"'Syne', sans-serif"},summaryLabel:{color:"#8a94a7",fontSize:"12px",textTransform:"uppercase",letterSpacing:"0.08em"},controls:{display:"grid",gap:"10px",marginBottom:"16px"},searchInput:{width:"100%",border:"1px solid #1d3345",borderRadius:"10px",backgroundColor:"#0c1420",color:"#e8ecf3",padding:"11px 12px",outline:"none",fontSize:"14px",fontFamily:"'DM Sans', sans-serif"},filterRow:{display:"flex",gap:"8px",flexWrap:"wrap"},filterBtn:{border:"1px solid #2a3f4f",borderRadius:"999px",backgroundColor:"#0d1521",color:"#93a2b6",padding:"7px 12px",cursor:"pointer",fontFamily:"'DM Sans', sans-serif",fontSize:"12px"},filterBtnActive:{color:"#00e5a0",borderColor:"#00e5a0",backgroundColor:"#00e5a014"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(260px, 1fr))",gap:"14px"},card:{backgroundColor:"#0d1521",border:"1px solid #1f3243",borderRadius:"14px",padding:"14px",display:"flex",flexDirection:"column",gap:"8px"},cardTopRow:{display:"flex",alignItems:"center",justifyContent:"space-between"},platformBadge:{fontSize:"11px",border:"1px solid",borderRadius:"999px",padding:"4px 8px"},scoreBadge:{color:"#00e5a0",fontWeight:700,fontSize:"14px"},cardTitle:{margin:0,fontFamily:"'Syne', sans-serif",fontSize:"18px",lineHeight:1.2},cardCompany:{margin:0,color:"#d1d7e2",fontWeight:500},cardMeta:{margin:0,color:"#94a0b4",fontSize:"13px"},cardSalary:{margin:0,color:"#00e5a0",fontSize:"13px"},meterWrap:{marginTop:"2px"},meterTrack:{width:"100%",height:"6px",backgroundColor:"#1f3344",borderRadius:"999px",overflow:"hidden"},meterFill:{height:"100%",borderRadius:"999px",transition:"width 0.35s ease"},meterLabel:{margin:"5px 0 0",fontSize:"12px",fontWeight:700},readyBadge:{alignSelf:"flex-start",border:"1px solid",borderRadius:"999px",padding:"4px 9px",fontSize:"11px",fontWeight:700},linkGrid:{marginTop:"4px",display:"grid",gridTemplateColumns:"repeat(3, minmax(0, 1fr))",gap:"6px"},linkBtn:{border:"1px solid #2c4152",borderRadius:"8px",backgroundColor:"#0a111b",color:"#9eb0c4",fontSize:"11px",textAlign:"center",textDecoration:"none",padding:"7px 6px"},primaryApply:{marginTop:"6px",textAlign:"center",borderRadius:"9px",background:"linear-gradient(90deg, #00e5a0, #00b4d8)",color:"#041017",textDecoration:"none",fontFamily:"'Syne', sans-serif",fontWeight:700,padding:"10px 10px"},emptyState:{border:"1px dashed #2b4153",borderRadius:"12px",textAlign:"center",color:"#92a2b7",padding:"24px"},infoText:{marginBottom:"10px",padding:"10px 12px",borderRadius:"10px",border:"1px solid #24506b",backgroundColor:"#102130",color:"#9fd3f1",fontSize:"13px"},warnText:{marginBottom:"10px",padding:"10px 12px",borderRadius:"10px",border:"1px solid #733046",backgroundColor:"#2a141d",color:"#ff8aa9",fontSize:"13px"}},Ct="_container_ic8u5_3",Lt="_header_ic8u5_11",At="_title_ic8u5_18",Tt="_unsupported_ic8u5_24",It="_copy_ic8u5_29",Rt="_status_ic8u5_35",Mt="_actions_ic8u5_41",$t="_button_ic8u5_47",F={container:Ct,header:Lt,title:At,unsupported:Tt,copy:It,status:Rt,actions:Mt,button:$t},Bt=({message:e,title:t="AI Voice Assistant",description:n="The assistant explains your weaknesses and improvement priorities automatically.",autoPlay:l=!0})=>{const[o,d]=m.useState(!1),[p,u]=m.useState(!1),g=m.useMemo(()=>String(e||"").trim(),[e]);m.useEffect(()=>{const L=typeof window<"u"&&"speechSynthesis"in window&&typeof window.SpeechSynthesisUtterance<"u";d(L)},[]);const x=m.useCallback(()=>{o&&(window.speechSynthesis.cancel(),u(!1))},[o]),c=m.useCallback(()=>{if(!o||!g)return;window.speechSynthesis.cancel();const L=new window.SpeechSynthesisUtterance(g);L.rate=.95,L.pitch=1,L.onstart=()=>u(!0),L.onend=()=>u(!1),L.onerror=()=>u(!1);const A=window.speechSynthesis.getVoices().find(E=>String(E.lang||"").toLowerCase().startsWith("en"));A&&(L.voice=A),window.speechSynthesis.speak(L)},[o,g]);return m.useEffect(()=>{if(!(!o||!g||!l))return c(),()=>{window.speechSynthesis.cancel(),u(!1)}},[o,g,l,c]),a("div",{className:F.container,children:[a("div",{className:F.header,children:[r("h4",{className:F.title,children:t}),!o&&r("span",{className:F.unsupported,children:"Voice not supported on this browser."})]}),r("p",{className:F.copy,children:n}),r("p",{className:F.status,children:o?p?"Speaking now...":"Ready to speak.":"Switch to a supported browser to enable voice playback."}),a("div",{className:F.actions,children:[r("button",{type:"button",className:F.button,onClick:c,disabled:!o||!g,children:"Play"}),r("button",{type:"button",className:F.button,onClick:x,disabled:!o||!p,children:"Stop"})]})]})},Jt=async e=>{const t=new FormData;for(const n of e)t.append("resumes",n);return ue.post("/ml/upload-resumes",t)},Et=async({jobDescription:e,resumeIds:t})=>ue.post("/ml/match",{job_description:e,resume_ids:t}),Ft="_container_103ss_3",Dt="_embedded_103ss_12",Pt="_videoLayer_103ss_18",Ut="_videoBackground_103ss_25",zt="_videoOverlay_103ss_32",Ot="_content_103ss_41",Ht="_header_103ss_55",Wt="_kicker_103ss_63",Gt="_title_103ss_72",Vt="_subtitle_103ss_80",Kt="_headerActions_103ss_87",qt="_stepper_103ss_94",Yt="_stepItem_103ss_105",Qt="_stepIndex_103ss_113",Xt="_stepLabel_103ss_129",Zt="_complete_103ss_138",jt="_current_103ss_144",es="_panel_103ss_151",ts="_fadeSlide_103ss_159",ss="_fadeSlideIn_103ss_1",ns="_panelTitle_103ss_163",rs="_dropzone_103ss_170",is="_dropzoneActive_103ss_179",as="_fileInput_103ss_185",os="_dropTitle_103ss_189",ls="_dropHint_103ss_196",cs="_primaryButton_103ss_202",ds="_fileInfo_103ss_217",ps="_analyzeButton_103ss_223",us="_queryGrid_103ss_241",ms="_checkboxRow_103ss_247",hs="_checkboxInput_103ss_260",fs="_loadingState_103ss_264",gs="_spinner_103ss_277",_s="_spin_103ss_277",ys="_error_103ss_286",ks="_resultGrid_103ss_296",Ss="_resultCard_103ss_302",bs="_resultLabel_103ss_309",ws="_resultValue_103ss_318",Ns="_confidenceWrap_103ss_325",xs="_confidenceHeader_103ss_333",vs="_confidenceTrack_103ss_346",Cs="_confidenceFill_103ss_354",Ls="_skillsSection_103ss_361",As="_chipList_103ss_365",Ts="_skillChip_103ss_372",Is="_removeChip_103ss_385",Rs="_skillInputRow_103ss_395",Ms="_textInput_103ss_402",$s="_secondaryButton_103ss_418",Bs="_listGrid_103ss_434",Js="_listCard_103ss_441",Es="_list_103ss_434",Fs="_emptyText_103ss_456",Ds="_matchingButton_103ss_462",Ps="_atsSection_103ss_475",Us="_jobTextarea_103ss_483",zs="_atsActions_103ss_502",Os="_atsResultList_103ss_509",Hs="_atsResultCard_103ss_516",Ws="_atsTopRow_103ss_523",Gs="_atsRank_103ss_532",Vs="_atsMeta_103ss_540",Ks="_atsSkillWrap_103ss_547",qs="_voiceSection_103ss_551",Ys="_missingSkillChip_103ss_555",Qs="_jobsSection_103ss_568",Xs="_jobsGrid_103ss_579",Zs="_jobCard_103ss_586",js="_jobHeader_103ss_594",en="_jobTitle_103ss_601",tn="_jobCompany_103ss_609",sn="_jobMeta_103ss_616",nn="_jobDescription_103ss_623",rn="_jobActions_103ss_631",an="_jobApplyButton_103ss_635",on="_remoteJobsHeader_103ss_648",ln="_remoteJobsTitle_103ss_656",cn="_remoteJobsSubtitle_103ss_663",dn="_remoteJobsCount_103ss_673",pn="_remoteJobsLoading_103ss_684",un="_remoteColumn_103ss_697",mn="_remoteColumnHead_103ss_705",hn="_remoteBadgeAlt_103ss_719",fn="_remotePill_103ss_729",gn="_jobFooter_103ss_738",_n="_jobSource_103ss_747",s={container:Ft,embedded:Dt,videoLayer:Pt,videoBackground:Ut,videoOverlay:zt,content:Ot,header:Ht,kicker:Wt,title:Gt,subtitle:Vt,headerActions:Kt,stepper:qt,stepItem:Yt,stepIndex:Qt,stepLabel:Xt,complete:Zt,current:jt,panel:es,fadeSlide:ts,fadeSlideIn:ss,panelTitle:ns,dropzone:rs,dropzoneActive:is,fileInput:as,dropTitle:os,dropHint:ls,primaryButton:cs,fileInfo:ds,analyzeButton:ps,queryGrid:us,checkboxRow:ms,checkboxInput:hs,loadingState:fs,spinner:gs,spin:_s,error:ys,resultGrid:ks,resultCard:Ss,resultLabel:bs,resultValue:ws,confidenceWrap:Ns,confidenceHeader:xs,confidenceTrack:vs,confidenceFill:Cs,skillsSection:Ls,chipList:As,skillChip:Ts,removeChip:Is,skillInputRow:Rs,textInput:Ms,secondaryButton:$s,listGrid:Bs,listCard:Js,list:Es,emptyText:Fs,matchingButton:Ds,atsSection:Ps,jobTextarea:Us,atsActions:zs,atsResultList:Os,atsResultCard:Hs,atsTopRow:Ws,atsRank:Gs,atsMeta:Vs,atsSkillWrap:Ks,voiceSection:qs,missingSkillChip:Ys,jobsSection:Qs,jobsGrid:Xs,jobCard:Zs,jobHeader:js,jobTitle:en,jobCompany:tn,jobMeta:sn,jobDescription:nn,jobActions:rn,jobApplyButton:an,remoteJobsHeader:on,remoteJobsTitle:ln,remoteJobsSubtitle:cn,remoteJobsCount:dn,remoteJobsLoading:pn,remoteColumn:un,remoteColumnHead:mn,remoteBadgeAlt:hn,remotePill:fn,jobFooter:gn,jobSource:_n},yn=10*1024*1024,kn=[".pdf",".doc",".docx"],Se=10,Sn=12e3,bn=["india","bengaluru","bangalore","hyderabad","pune","mumbai","chennai","gurugram","gurgaon","noida","delhi","ncr","new delhi"],wn=[{id:1,label:"Upload Resume"},{id:2,label:"Prediction Results"},{id:3,label:"Job Matching"}];function z(e,t,n){return Math.max(t,Math.min(n,e))}function R(e,t=240){const n=String(e||"").replace(/\u0000/g," ").replace(/[^\x09\x0A\x0D\x20-\x7E]/g," ").replace(/\s+/g," ").trim();return!n||(n.match(/[A-Za-z0-9]/g)||[]).length===0?"":t>0&&n.length>t?`${n.slice(0,t).trim()}...`:n}function C(e){return Array.isArray(e)?e.map(t=>R(t,120)).filter(Boolean):[]}function te(e){const t=new Set,n=[];for(const l of C(e)){const o=l.toLowerCase();t.has(o)||(t.add(o),n.push(l))}return n}function Qe(e,t=220){const n=String(e||"").trim();return n.length<=t?n:`${n.slice(0,t).trim()}...`}function Nn(e){const l=String(e||"").replace(/<[^>]*>/g," ").replace(/&nbsp;/gi," ").replace(/&amp;/gi,"&").replace(/&lt;/gi,"<").replace(/&gt;/gi,">").replace(/&#39;/gi,"'").replace(/&quot;/gi,'"').replace(/&#x27;/gi,"'").replace(/&#x2F;/gi,"/");return Qe(l.replace(/\s+/g," ").trim(),260)}function He(e){if(typeof e=="number"&&Number.isFinite(e))return Math.max(0,Math.round(e));const t=String(e||"").toLowerCase();if(!t)return 0;const n=t.match(/(\d+(?:\.\d+)?)\s*(?:-|to)\s*(\d+(?:\.\d+)?)/);if(n){const d=Number.parseFloat(n[2]);if(Number.isFinite(d))return Math.max(0,Math.round(d))}const l=t.match(/(\d+(?:\.\d+)?)\s*\+?\s*(?:years?|yrs?)/);if(l){const d=Number.parseFloat(l[1]);if(Number.isFinite(d))return Math.max(0,Math.round(d))}const o=Number.parseFloat(t);return Number.isFinite(o)?Math.max(0,Math.round(o)):0}function ie(e){return Array.isArray(e)?e.map((t,n)=>({id:String((t==null?void 0:t.id)||(t==null?void 0:t.apply_link)||`${n}`),title:String((t==null?void 0:t.title)||"Untitled role").trim(),company:String((t==null?void 0:t.company)||"Unknown company").trim(),location:String((t==null?void 0:t.location)||"Location not specified").trim(),description:Nn((t==null?void 0:t.description)||""),apply_link:String((t==null?void 0:t.apply_link)||"").trim(),posted_date:String((t==null?void 0:t.posted_date)||"").trim(),is_remote:!!(t!=null&&t.is_remote),employment_type:String((t==null?void 0:t.employment_type)||"").trim(),source:String((t==null?void 0:t.source)||"").trim()})).filter(t=>t.title):[]}function xn(e){return`${String((e==null?void 0:e.title)||"").toLowerCase()}-${String((e==null?void 0:e.company)||"").toLowerCase()}-${String((e==null?void 0:e.location)||"").toLowerCase()}`}function vn(e){const t=new Set,n=[];for(const l of e){const o=xn(l);!o.trim()||t.has(o)||(t.add(o),n.push(l))}return n}function We(e){const t=String(e||"").toLowerCase();return bn.some(n=>t.includes(n))}function be(e){const t=String((e==null?void 0:e.location)||"").toLowerCase();if(We(t))return!0;const n=`${(e==null?void 0:e.title)||""} ${(e==null?void 0:e.description)||""} ${(e==null?void 0:e.apply_link)||""} ${(e==null?void 0:e.source)||""} ${(e==null?void 0:e.company)||""}`.toLowerCase();return We(n)?!0:/(?:\.in\/|\.co\.in\/)/.test(n)}function Ne(e){if(e!=null&&e.is_remote)return!0;const t=`${(e==null?void 0:e.location)||""} ${(e==null?void 0:e.employment_type)||""} ${(e==null?void 0:e.title)||""} ${(e==null?void 0:e.description)||""} ${(e==null?void 0:e.apply_link)||""}`.toLowerCase();return/\bremote\b|\bwork from home\b|\bwfh\b|\banywhere\b/.test(t)}function Cn(e,t,n){const l=String(t||"").toLowerCase().split(/\s+/).map(u=>u.trim()).filter(u=>u.length>2),o=C(n).map(u=>u.toLowerCase()).filter(u=>u.length>2).slice(0,12),d=`${e.title} ${e.description} ${e.company}`.toLowerCase();let p=35;for(const u of l)d.includes(u)&&(p+=8);for(const u of o)d.includes(u)&&(p+=4);return Ne(e)&&(p+=6),z(p,20,99)}function Ge(e,t,n){return[...e].map(l=>({...l,interest_score:Cn(l,t,n)})).sort((l,o)=>o.interest_score-l.interest_score)}function Ln(e){const t=String((e==null?void 0:e.source)||"").trim();if(t)return t;const n=String((e==null?void 0:e.apply_link)||"").toLowerCase();return n.includes("linkedin")?"LinkedIn":n.includes("naukri")?"Naukri":n.includes("indeed")?"Indeed":"Live Source"}function An(e,t){return!Number.isFinite(t)||t<=0?e:new Promise((n,l)=>{const o=setTimeout(()=>{l(new Error("REQUEST_TIMEOUT"))},t);e.then(d=>{clearTimeout(o),n(d)}).catch(d=>{clearTimeout(o),l(d)})})}function Tn(e){if(!e||typeof e!="object")return null;if(e.career_path){const o=Number(e.confidence),d=Number.isFinite(o)&&o>1?z(o/100,0,1):z(o||0,0,1),p=He(e.experience_years||e.required_experience);return{name:R(e.name,80),skills:C(e.extracted_skills||e.skills||e.required_skills||[]),education:R(e.education||e.required_education,180),certifications:C(e.certifications||[]),projects:C(e.projects||[]),experience_years:Number.isFinite(p)?Math.max(0,p):0,predicted_role:R(e.career_path||e.predicted_role,80),confidence:d,ats_score:Number(e.ats_score||0),predicted_category:R(e.predicted_category,80),job_description_used:R(e.job_description_used,320),missing_skills:C(e.missing_skills||[]),weaknesses:C(e.weaknesses||e.resume_weaknesses||[]),jobs:ie(e.jobs)}}const t=Number(e.confidence),n=Number.isFinite(t)&&t>1?z(t/100,0,1):z(t||0,0,1),l=He(e.experience_years||e.required_experience);return{name:R(e.name,80),skills:C(e.skills),education:R(e.education,180),certifications:C(e.certifications),projects:C(e.projects),experience_years:Number.isFinite(l)?Math.max(0,l):0,predicted_role:R(e.predicted_role,80),confidence:n,ats_score:Number(e.ats_score||0),predicted_category:R(e.predicted_category,80),job_description_used:R(e.job_description_used,320),missing_skills:C(e.missing_skills),weaknesses:C(e.weaknesses),jobs:ie(e.jobs)}}function In(e){const t=Number(e);if(!Number.isFinite(t)||t<0)return"0 B";if(t<1024)return`${t} B`;const n=t/1024;return n<1024?`${n.toFixed(1)} KB`:`${(n/1024).toFixed(2)} MB`}function Rn(e,t){const n=String((e==null?void 0:e.predicted_role)||"").trim()||"Software Engineer",l=Number((e==null?void 0:e.experience_years)||0),o=C(t).slice(0,12),d=o.length?o.join(", "):"software development, problem solving, API development";return[`Hiring for ${n}.`,`Required skills: ${d}.`,l>0?`Preferred experience: around ${l} years.`:"Experience: 0-5 years.","Must be able to build production-ready solutions and collaborate with cross-functional teams."].join(" ")}function Mn(e,t){if(!e)return[];const n=[...te(e.weaknesses||[])],l=z(Math.round(Number(e.ats_score||0)),0,100),o=Math.round(z(Number(e.confidence||0),0,1)*100),d=C(e.skills).length;l<55?n.push("ATS score is below shortlist benchmark. Add stronger role-specific keywords and quantified achievements."):l<75&&n.push("ATS score is moderate. Tighten role alignment and measurable impact statements to improve recruiter screening."),o<55&&n.push("Role prediction confidence is low. Resume narrative may be broad and needs clearer positioning."),d>0&&d<6&&n.push("Skill coverage appears limited for competitive screening. Add relevant frameworks and tool depth.");const p=te(t).slice(0,5);return p.length>0&&n.push(`Top missing skills: ${p.join(", ")}.`),n.length===0&&n.push("No major weakness detected. Keep improving role-specific outcomes and project impact metrics."),te(n).slice(0,4)}function $n(e,t,n){if(!e)return"";const l=z(Math.round(Number(e.ats_score||0)),0,100),o=R(e.predicted_role||"your target role",80)||"your target role",d=R(Array.isArray(t)?t[0]:"",180)||"No major weakness detected.",p=te(n).slice(0,5),u=p.length?p.join(", "):"No critical missing skills detected for the current job description.";return["Resume analysis complete.",`ATS score is ${l} percent for ${o}.`,`Primary weakness: ${d}`,`Missing skills to prioritize: ${u}`,"Next step: update your resume with targeted keywords and measurable outcomes, then run ATS match again."].join(" ")}const Fn=({embedded:e=!1})=>{var Me;const t=m.useRef(null),[n,l]=m.useState(null),[o,d]=m.useState(1),[p,u]=m.useState(!1),[g,x]=m.useState(""),[c,L]=m.useState(null),[A,E]=m.useState([]),[N,T]=m.useState(""),[D,J]=m.useState(!1),[se,xe]=m.useState(null),[me,O]=m.useState(!1),[K,P]=m.useState(!1),[ae,oe]=m.useState(""),[ne,$]=m.useState(""),[re,b]=m.useState(!0),[v,q]=m.useState(""),[le,he]=m.useState([]),[ve,fe]=m.useState(!1),[Ce,Y]=m.useState(""),[Q,ge]=m.useState([]),[Xe,_e]=m.useState(!1),[Le,U]=m.useState(""),[ye,ke]=m.useState({international:[]});m.useEffect(()=>{if(!c){E([]);return}E(C(c.skills))},[c]),m.useEffect(()=>{if(D){d(3);return}if(p||c||K&&g){d(2);return}d(1)},[K,p,c,D,g]),m.useEffect(()=>{if(!c){ke({international:[]}),U(""),_e(!1);return}let i=!1;return(async()=>{var M;_e(!0),U("");const w=String(c.predicted_role||"Software Engineer").trim(),y=C(A.length?A:c.skills).slice(0,3),B=w,k=y.length?`${w} ${y.join(" ")}`.trim():w,H=Array.from(new Set([`${B} remote`,k&&k!==B?`${k} remote`:""])).filter(Boolean).slice(0,1);try{const X=H.map(f=>()=>An(qe(f,{remote:!0,page:1}),Sn)),S=(await Promise.allSettled(X.map(f=>f()))).map(f=>({result:f})).filter(f=>f.result.status==="fulfilled").map(f=>f.result.value);if(S.length===0)throw new Error("NO_LIVE_JOB_RESPONSES");const I=S,G=ie(I.flatMap(f=>(f==null?void 0:f.jobs)||[])),Z=ie(c.jobs||[]),pe=I.map(f=>f==null?void 0:f.meta).filter(Boolean),$e=new Set(pe.map(f=>String((f==null?void 0:f.provider)||"").trim().toLowerCase()).filter(Boolean)),Be=((M=pe.find(f=>typeof(f==null?void 0:f.error)=="string"&&f.error.trim()))==null?void 0:M.error)||"",Je=Be.toLowerCase(),rt=vn([...G.filter(f=>!be(f)),...Z.filter(f=>!be(f))].filter(f=>Ne(f))),Ee=Ge(rt,w,y).slice(0,Se);i||(ke({international:Ee}),$e.has("none")?U("JSearch API key is missing. Add JSEARCH_API_KEY in backend/.env or rexion-backend/.env and restart services."):$e.has("arbeitnow")?U("Using fallback jobs source. Set JSEARCH_API_KEY to fetch live jobs from your configured provider."):Je.includes("429")||Je.includes("quota")?U("JSearch quota exceeded (429). Upgrade/reset your RapidAPI JSearch plan to fetch live jobs."):Be?U("Live jobs API returned an issue. Showing best available matches."):Ee.length<Se&&U("Limited live remote results right now. Showing best available matches."))}catch{const W=ie(c.jobs||[]).filter(I=>Ne(I)),S=Ge(W.filter(I=>!be(I)),w,y);i||(ke({international:S.slice(0,Se)}),U("Live remote jobs could not be loaded. Showing available remote matches."))}finally{i||_e(!1)}})(),()=>{i=!0}},[c,A]);const Ae=m.useMemo(()=>c?{name:c.name||"Candidate",skills:A,education:c.education,certifications:c.certifications,projects:c.projects,experience_years:c.experience_years,role_target:c.predicted_role||"Software Engineer"}:null,[A,c]),ce=m.useMemo(()=>{if(!c)return[];if(Array.isArray(Q)&&Q.length>0){const _=[...Q].sort((y,B)=>Number((B==null?void 0:B.ats_score)||0)-Number((y==null?void 0:y.ats_score)||0)).flatMap(y=>C((y==null?void 0:y.missing_skills)||[])),w=te(_);if(w.length>0)return w.slice(0,8)}return te(c.missing_skills||[]).slice(0,8)},[Q,c]),de=m.useMemo(()=>Mn(c,ce),[c,ce]),Ze=m.useMemo(()=>$n(c,de,ce),[c,de,ce]),Te=i=>{if(!i)return"Please choose a resume file.";const _=i.name.toLowerCase();return kn.some(y=>_.endsWith(y))?i.size>yn?"File too large. Maximum supported size is 10MB.":"":"Only PDF, DOC, and DOCX files are supported."},Ie=i=>{const _=Te(i);if(_){x(_),l(null),P(!1);return}x(""),P(!1),l(i)},je=async()=>{var _,w,y,B;const i=Te(n);if(i){x(i),P(!1);return}P(!0),x(""),u(!0),J(!1);try{const k={jobDescription:ae.trim(),location:ne.trim(),remote:re},H=await ot(n,k),M=Tn(H);if(!M)throw new Error("Prediction API returned an invalid response.");L(M),xe(M),Y(""),ge([]),he([]),!v&&M.job_description_used&&q(M.job_description_used)}catch(k){const W=!(k!=null&&k.response)&&/network error|failed to fetch|load failed|ecconnrefused|err_network/i.test(String((k==null?void 0:k.message)||""))?"Prediction services are unreachable. Checked backend (http://localhost:5000/api) and ML service (http://127.0.0.1:8000). Start services and retry.":((w=(_=k==null?void 0:k.response)==null?void 0:_.data)==null?void 0:w.message)||((B=(y=k==null?void 0:k.response)==null?void 0:y.data)==null?void 0:B.detail)||(k==null?void 0:k.detail)||(k==null?void 0:k.message)||"Unable to analyze this resume right now.";x(W)}finally{u(!1)}},et=i=>{E(_=>_.filter(w=>w!==i))},Re=()=>{const i=N.trim();i&&(E(_=>_.some(y=>y.toLowerCase()===i.toLowerCase())?_:[..._,i]),T(""))},tt=()=>{l(null),L(null),J(!1),E([]),T(""),x(""),P(!1),oe(""),$(""),b(!0),q(""),he([]),fe(!1),Y(""),ge([]),t.current&&(t.current.value="")},st=()=>{se&&(L(se),x(""),J(!1),P(!0))},nt=async()=>{var k,H,M,X,W;const _=v.trim()||Rn(c,A);if(!n&&le.length===0){Y("Upload at least one resume file before running ATS match.");return}const w=[n,...le].filter(Boolean),y=new Map;for(const S of w){const I=`${S.name}-${S.size}`;y.has(I)||y.set(I,S)}const B=Array.from(y.values());fe(!0),Y("");try{const S=await Jt(B),I=((k=S==null?void 0:S.resumes)==null?void 0:k.map(pe=>pe.resume_id).filter(Boolean))||[];if(I.length===0)throw new Error("ATS upload succeeded but no resume IDs were returned.");const G=await Et({jobDescription:_,resumeIds:I}),Z=Array.isArray(G==null?void 0:G.results)?G.results:[];ge(Z),Z.length===0&&Y("No ATS results returned for the uploaded resumes.")}catch(S){const Z=!(S!=null&&S.response)&&/network error|failed to fetch|load failed|ecconnrefused|err_network/i.test(String((S==null?void 0:S.message)||""))?"ATS service is unreachable at http://localhost:5000/api/ml. Start the Python service and retry.":((M=(H=S==null?void 0:S.response)==null?void 0:H.data)==null?void 0:M.message)||((W=(X=S==null?void 0:S.response)==null?void 0:X.data)==null?void 0:W.detail)||S.message||"ATS engine request failed.";Y(Z)}finally{fe(!1)}};return a("div",{className:`${s.container} ${e?s.embedded:""}`,children:[!e&&a("div",{className:s.videoLayer,"aria-hidden":"true",children:[r("video",{className:s.videoBackground,autoPlay:!0,muted:!0,loop:!0,playsInline:!0,preload:"metadata",children:r("source",{src:"/videos/resume-bg.mp4",type:"video/mp4"})}),r("div",{className:s.videoOverlay})]}),a("div",{className:s.content,children:[a("header",{className:s.header,children:[r("p",{className:s.kicker,children:"RESUME TO JOB PIPELINE"}),r("h1",{className:s.title,children:"Analyze Resume and Find Matching Jobs"}),r("p",{className:s.subtitle,children:"Upload your resume, review extracted profile data, then jump straight into role-based job opportunities."}),a("div",{className:s.headerActions,children:[r("button",{type:"button",className:s.secondaryButton,onClick:tt,children:"Re-upload"}),se&&!c&&r("button",{type:"button",className:s.secondaryButton,onClick:st,children:"Restore Last Result"})]})]}),r("div",{className:s.stepper,children:wn.map(i=>{const _=o>i.id,w=o===i.id;return a("div",{className:s.stepItem,children:[r("div",{className:`${s.stepIndex} ${_?s.complete:""} ${w?s.current:""}`,children:i.id}),r("span",{className:s.stepLabel,children:i.label})]},i.id)})}),a("section",{className:`${s.panel} ${s.fadeSlide}`,children:[r("h2",{className:s.panelTitle,children:"Step 1 - Upload Resume"}),a("div",{className:`${s.dropzone} ${me?s.dropzoneActive:""}`,onDragEnter:i=>{i.preventDefault(),O(!0)},onDragOver:i=>{i.preventDefault(),O(!0)},onDragLeave:i=>{i.preventDefault(),O(!1)},onDrop:i=>{var _;i.preventDefault(),O(!1),Ie((_=i.dataTransfer.files)==null?void 0:_[0])},children:[r("input",{ref:t,id:"resume-input",type:"file",accept:".pdf,.doc,.docx",className:s.fileInput,onChange:i=>{var _;return Ie((_=i.target.files)==null?void 0:_[0])}}),r("p",{className:s.dropTitle,children:"Drag and drop your PDF or DOCX here"}),r("p",{className:s.dropHint,children:"or click below to browse files"}),r("label",{htmlFor:"resume-input",className:s.primaryButton,children:"Choose Resume"}),n&&a("p",{className:s.fileInfo,children:[n.name," (",In(n.size),")"]})]}),a("div",{className:s.queryGrid,children:[r("textarea",{value:ae,onChange:i=>oe(i.target.value),placeholder:"Optional: paste a target job description for ATS score. If empty, auto JD is used.",className:s.jobTextarea}),a("div",{className:s.skillInputRow,children:[r("input",{value:ne,onChange:i=>$(i.target.value),placeholder:"Optional job location (e.g. San Francisco, CA)",className:s.textInput}),a("label",{className:s.checkboxRow,children:[r("input",{type:"checkbox",checked:re,onChange:i=>b(i.target.checked),className:s.checkboxInput}),"Remote-first jobs"]})]})]}),r("button",{type:"button",className:s.analyzeButton,onClick:je,disabled:p||!n,children:p?"Analyzing Resume...":"Analyze Resume"}),g&&!K&&r("p",{className:s.error,children:g})]}),(p||c||K&&g)&&a("section",{className:`${s.panel} ${s.fadeSlide}`,children:[r("h2",{className:s.panelTitle,children:"Step 2 - Prediction Results"}),p&&a("div",{className:s.loadingState,children:[r("span",{className:s.spinner}),r("p",{children:"Running AI extraction and prediction..."})]}),!p&&g&&r("p",{className:s.error,children:g}),!p&&c&&a(it,{children:[a("div",{className:s.resultGrid,children:[a("div",{className:s.resultCard,children:[r("p",{className:s.resultLabel,children:"Name"}),r("p",{className:s.resultValue,children:c.name||"Not detected"})]}),a("div",{className:s.resultCard,children:[r("p",{className:s.resultLabel,children:"Education"}),r("p",{className:s.resultValue,children:c.education||"Not detected"})]}),a("div",{className:s.resultCard,children:[r("p",{className:s.resultLabel,children:"Experience"}),a("p",{className:s.resultValue,children:[c.experience_years," years"]})]}),a("div",{className:s.resultCard,children:[r("p",{className:s.resultLabel,children:"Predicted Role"}),r("p",{className:s.resultValue,children:c.predicted_role||"Not detected"})]}),a("div",{className:s.resultCard,children:[r("p",{className:s.resultLabel,children:"ATS Score"}),a("p",{className:s.resultValue,children:[Math.round(c.ats_score||0),"%"]})]}),a("div",{className:s.resultCard,children:[r("p",{className:s.resultLabel,children:"ATS Category"}),r("p",{className:s.resultValue,children:c.predicted_category||"Not detected"})]})]}),a("div",{className:s.confidenceWrap,children:[a("div",{className:s.confidenceHeader,children:[r("span",{children:"Prediction Confidence"}),a("strong",{children:[Math.round(c.confidence*100),"%"]})]}),r("div",{className:s.confidenceTrack,children:r("div",{className:s.confidenceFill,style:{width:`${Math.round(c.confidence*100)}%`}})})]}),a("div",{className:s.skillsSection,children:[r("p",{className:s.resultLabel,children:"Skills (editable)"}),a("div",{className:s.chipList,children:[A.length===0&&r("span",{className:s.emptyText,children:"No skills found yet."}),A.map(i=>a("span",{className:s.skillChip,children:[i,r("button",{type:"button",className:s.removeChip,onClick:()=>et(i),"aria-label":`Remove ${i}`,children:"x"})]},i))]}),a("div",{className:s.skillInputRow,children:[r("input",{value:N,onChange:i=>T(i.target.value),onKeyDown:i=>{i.key==="Enter"&&(i.preventDefault(),Re())},placeholder:"Add a skill",className:s.textInput}),r("button",{type:"button",className:s.secondaryButton,onClick:Re,children:"Add Skill"})]})]}),a("div",{className:s.listGrid,children:[a("div",{className:s.listCard,children:[r("p",{className:s.resultLabel,children:"Certifications"}),c.certifications.length===0?r("p",{className:s.emptyText,children:"No certifications detected."}):r("ul",{className:s.list,children:c.certifications.map(i=>r("li",{children:i},i))})]}),a("div",{className:s.listCard,children:[r("p",{className:s.resultLabel,children:"Projects"}),c.projects.length===0?r("p",{className:s.emptyText,children:"No projects detected."}):r("ul",{className:s.list,children:c.projects.map(i=>r("li",{children:i},i))})]}),a("div",{className:s.listCard,children:[r("p",{className:s.resultLabel,children:"Weakness Insights"}),de.length===0?r("p",{className:s.emptyText,children:"No major weakness detected."}):r("ul",{className:s.list,children:de.map(i=>r("li",{children:i},i))})]})]}),a("div",{className:s.atsSection,children:[r("p",{className:s.resultLabel,children:"ATS Match (Python Model)"}),c.job_description_used&&a("p",{className:s.jobMeta,children:["Active JD: ",Qe(c.job_description_used,180)]}),r("p",{className:s.emptyText,children:"Job description is optional. ATS will auto-generate it from resume role and skills."}),((Me=c.missing_skills)==null?void 0:Me.length)>0&&a("div",{className:s.atsSkillWrap,children:[r("p",{className:s.resultLabel,children:"Missing Skills vs Current JD"}),r("div",{className:s.chipList,children:c.missing_skills.map(i=>r("span",{className:s.missingSkillChip,children:i},`predict-missing-${i}`))})]}),r("textarea",{value:v,onChange:i=>q(i.target.value),placeholder:"Optional: paste your own job description. Leave empty for auto mode.",className:s.jobTextarea}),a("div",{className:s.atsActions,children:[r("label",{htmlFor:"ats-files",className:s.secondaryButton,children:"Add More Resumes"}),r("input",{id:"ats-files",type:"file",accept:".pdf,.doc,.docx",multiple:!0,className:s.fileInput,onChange:i=>he(Array.from(i.target.files||[]))}),r("button",{type:"button",className:s.secondaryButton,onClick:nt,disabled:ve,children:ve?"Running ATS...":"Run ATS Match"})]}),le.length>0&&a("p",{className:s.fileInfo,children:[le.length," extra resume(s) selected for ranking."]}),Ce&&r("p",{className:s.error,children:Ce}),Q.length>0&&r("div",{className:s.atsResultList,children:Q.map(i=>{var _,w;return a("article",{className:s.atsResultCard,children:[a("div",{className:s.atsTopRow,children:[r("strong",{children:i.filename}),a("span",{className:s.atsRank,children:["Rank #",i.rank]})]}),a("p",{className:s.atsMeta,children:["ATS Score: ",i.ats_score,"% | Category: ",i.predicted_category]}),a("div",{className:s.atsSkillWrap,children:[r("p",{className:s.resultLabel,children:"Extracted Skills"}),r("div",{className:s.chipList,children:(_=i.extracted_skills)==null?void 0:_.map(y=>r("span",{className:s.skillChip,children:y},`${i.resume_id}-${y}`))})]}),a("div",{className:s.atsSkillWrap,children:[r("p",{className:s.resultLabel,children:"Missing Skills"}),r("div",{className:s.chipList,children:(w=i.missing_skills)!=null&&w.length?i.missing_skills.map(y=>r("span",{className:s.missingSkillChip,children:y},`${i.resume_id}-miss-${y}`)):r("span",{className:s.emptyText,children:"No critical missing skills detected."})})]})]},i.resume_id)})}),a("div",{className:s.voiceSection,children:[r("p",{className:s.resultLabel,children:"Voice ATS Assistant"}),r(Bt,{message:Ze,title:"Resume Voice Assistant",description:"Speaks ATS score, weakness summary, and missing skills from your current analysis.",autoPlay:!0})]})]}),a("div",{className:s.jobsSection,children:[a("div",{className:s.remoteJobsHeader,children:[a("div",{children:[r("p",{className:s.resultLabel,children:"Live Remote Jobs"}),r("h3",{className:s.remoteJobsTitle,children:"Top 10 Curated International Remote Openings"}),a("p",{className:s.remoteJobsSubtitle,children:["Based on your role prediction and skill interests:",r("strong",{children:" 10 international remote roles"})]})]}),a("span",{className:s.remoteJobsCount,children:[ye.international.length||0," live jobs"]})]}),Xe&&a("div",{className:s.remoteJobsLoading,children:[r("span",{className:s.spinner}),r("p",{children:"Finding the best remote jobs for your profile..."})]}),Le&&r("p",{className:s.error,children:Le}),a("div",{className:s.remoteColumn,children:[a("div",{className:s.remoteColumnHead,children:[r("h4",{children:"International Remote Picks"}),r("span",{className:s.remoteBadgeAlt,children:"Global Remote"})]}),ye.international.length>0?r("div",{className:s.jobsGrid,children:ye.international.map(i=>a("article",{className:s.jobCard,children:[a("div",{className:s.jobHeader,children:[r("h3",{className:s.jobTitle,children:i.title}),r("span",{className:s.remotePill,children:"Remote"})]}),r("p",{className:s.jobCompany,children:i.company}),a("p",{className:s.jobMeta,children:[i.location,i.employment_type?` | ${i.employment_type}`:""]}),i.description&&r("p",{className:s.jobDescription,children:i.description}),a("div",{className:s.jobFooter,children:[r("span",{className:s.jobSource,children:Ln(i)}),i.apply_link?r("a",{href:i.apply_link,target:"_blank",rel:"noreferrer",className:s.jobApplyButton,children:"Apply Remote"}):r("span",{className:s.emptyText,children:"Apply link unavailable."})]})]},`global-${i.id}`))}):r("p",{className:s.emptyText,children:"No international remote jobs found for this role yet."})]})]}),r("button",{type:"button",className:s.matchingButton,onClick:()=>J(!0),children:"Find Matching Jobs ->"})]})]}),D&&Ae&&a("section",{className:`${s.panel} ${s.fadeSlide}`,children:[r("h2",{className:s.panelTitle,children:"Step 3 - Job Matching Engine"}),r(xt,{resume:Ae})]})]})]})};export{Fn as default};
