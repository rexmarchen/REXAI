import{b as y,r as n,a as r,j as s,L}from"./index-66f4a4d5.js";import{A as B,a as I}from"./authApi-816ade26.js";import"./apiClient-df69f537.js";const E="_page_16ngs_3",P="_particlesLayer_16ngs_13",C="_card_16ngs_23",R="_title_16ngs_37",T="_subtitle_16ngs_45",A="_form_16ngs_52",F="_field_16ngs_58",W="_passwordWrap_16ngs_84",j="_toggleButton_16ngs_93",O="_metaRow_16ngs_107",U="_checkboxLabel_16ngs_114",q="_linkButton_16ngs_126",D="_submitButton_16ngs_134",H="_error_16ngs_151",M="_success_16ngs_156",z="_footerText_16ngs_162",e={page:E,particlesLayer:P,card:C,title:R,subtitle:T,form:A,field:F,passwordWrap:W,toggleButton:j,metaRow:O,checkboxLabel:U,linkButton:q,submitButton:D,error:H,success:M,footerText:z},X=()=>{const f=y(),[m,N]=n.useState(!1),[u,g]=n.useState(!1),[a,d]=n.useState({email:"",password:"",remember:!1}),[i,S]=n.useState({}),[p,h]=n.useState(""),[_,b]=n.useState(""),x=()=>{const t={};return a.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email)||(t.email="Enter a valid email address."):t.email="Email is required.",a.password?a.password.length<8&&(t.password="Password must be at least 8 characters."):t.password="Password is required.",S(t),Object.keys(t).length===0},k=async t=>{var o,c;if(t.preventDefault(),h(""),b(""),!!x()){g(!0);try{const l=await I.login({email:a.email.trim(),password:a.password}),v=JSON.stringify(l.user),w=a.remember?localStorage:sessionStorage;localStorage.removeItem("rexionAuthToken"),localStorage.removeItem("rexionUser"),sessionStorage.removeItem("rexionAuthToken"),sessionStorage.removeItem("rexionUser"),w.setItem("rexionAuthToken",l.token),w.setItem("rexionUser",v),h(l.message||"Login successful. Redirecting to home..."),setTimeout(()=>f("/"),500)}catch(l){b(((c=(o=l.response)==null?void 0:o.data)==null?void 0:c.message)||"Login failed. Please try again.")}finally{g(!1)}}};return r("section",{className:e.page,children:[s(B,{particleCount:95,particleColor:"rgba(200, 230, 255, 0.6)",particleSize:2,repulsionForce:2.2}),s("div",{className:e.particlesLayer,"aria-hidden":"true"}),r("div",{className:e.card,children:[s("h1",{className:e.title,children:"LOGIN"}),s("p",{className:e.subtitle,children:"Welcome back to REXION AI"}),r("form",{className:e.form,onSubmit:k,noValidate:!0,children:[r("div",{className:e.field,children:[s("label",{htmlFor:"login-email",children:"Email"}),s("input",{id:"login-email",type:"email",value:a.email,onChange:t=>d(o=>({...o,email:t.target.value})),placeholder:"you@example.com",autoComplete:"email"}),i.email&&s("span",{className:e.error,children:i.email})]}),r("div",{className:e.field,children:[s("label",{htmlFor:"login-password",children:"Password"}),r("div",{className:e.passwordWrap,children:[s("input",{id:"login-password",type:m?"text":"password",value:a.password,onChange:t=>d(o=>({...o,password:t.target.value})),placeholder:"Enter password",autoComplete:"current-password"}),s("button",{type:"button",className:e.toggleButton,onClick:()=>N(t=>!t),"aria-label":m?"Hide password":"Show password",children:m?"Hide":"Show"})]}),i.password&&s("span",{className:e.error,children:i.password})]}),r("div",{className:e.metaRow,children:[r("label",{className:e.checkboxLabel,children:[s("input",{type:"checkbox",checked:a.remember,onChange:t=>{const o=t.target.checked;d(c=>({...c,remember:o}))}}),"Remember me"]}),s("button",{type:"button",className:e.linkButton,children:"Forgot Password?"})]}),s("button",{type:"submit",className:e.submitButton,disabled:u,children:u?"Signing In...":"Sign In"}),p&&s("p",{className:e.success,children:p}),_&&s("p",{className:e.error,children:_})]}),r("p",{className:e.footerText,children:["Don't have an account? ",s(L,{to:"/register",children:"Register"})]})]})]})};export{X as default};
