import{r,a as d,j as t}from"./index-94e20000.js";import{L as v}from"./LoadingIndicator-94450152.js";import{u as w}from"./useResumeUpload-7e186740.js";import"./apiClient-722a8edf.js";const N="_dropzone_44xui_5",k="_dragActive_44xui_25",S="_fileInput_44xui_39",b="_icon_44xui_47",x="_float_44xui_1",A="_title_44xui_59",$="_hint_44xui_73",_={dropzone:N,dragActive:k,fileInput:S,icon:b,float:x,title:A,hint:$},C=({onUpload:e})=>{const[s,c]=r.useState(!1),i=r.useRef(null),o=n=>{n.preventDefault(),n.stopPropagation(),n.type==="dragenter"||n.type==="dragover"?c(!0):n.type==="dragleave"&&c(!1)},a=n=>{n.preventDefault(),n.stopPropagation(),c(!1);const p=n.dataTransfer.files[0];p&&e(p)},h=n=>{const p=n.target.files[0];p&&e(p)},m=()=>{i.current.click()};return d("div",{className:`${_.dropzone} ${s?_.dragActive:""}`,onDragEnter:o,onDragOver:o,onDragLeave:o,onDrop:a,onClick:m,children:[t("input",{ref:i,type:"file",accept:".pdf,.doc,.docx",onChange:h,className:_.fileInput}),t("div",{className:_.icon,children:"ðŸ“„"}),t("div",{className:_.title,children:"Upload your resume"}),t("div",{className:_.hint,children:"Drag & drop or click to browse"})]})},P="_result_1s8sm_5",D="_heading_1s8sm_13",L="_content_1s8sm_19",R="_prediction_1s8sm_24",I="_confidence_1s8sm_29",T="_model_1s8sm_34",U="_section_1s8sm_40",M="_sectionTitle_1s8sm_48",F="_list_1s8sm_54",V="_empty_1s8sm_64",l={result:P,heading:D,content:L,prediction:R,confidence:I,model:T,section:U,sectionTitle:M,list:F,empty:V},j="_container_9wfpn_3",z="_header_9wfpn_11",E="_title_9wfpn_18",Y="_unsupported_9wfpn_24",W="_copy_9wfpn_29",B="_actions_9wfpn_35",K="_button_9wfpn_41",u={container:j,header:z,title:E,unsupported:Y,copy:W,actions:B,button:K},O=({message:e})=>{const[s,c]=r.useState(!1),[i,o]=r.useState(!1),a=r.useMemo(()=>String(e||"").trim(),[e]);r.useEffect(()=>{const n=typeof window<"u"&&"speechSynthesis"in window&&typeof window.SpeechSynthesisUtterance<"u";c(n)},[]);const h=r.useCallback(()=>{s&&(window.speechSynthesis.cancel(),o(!1))},[s]),m=r.useCallback(()=>{if(!s||!a)return;window.speechSynthesis.cancel();const n=new window.SpeechSynthesisUtterance(a);n.rate=.95,n.pitch=1,n.onstart=()=>o(!0),n.onend=()=>o(!1),n.onerror=()=>o(!1);const p=window.speechSynthesis.getVoices().find(y=>String(y.lang||"").toLowerCase().startsWith("en"));p&&(n.voice=p),window.speechSynthesis.speak(n)},[s,a]);return r.useEffect(()=>{if(!(!s||!a))return m(),()=>{window.speechSynthesis.cancel(),o(!1)}},[s,a,m]),d("div",{className:u.container,children:[d("div",{className:u.header,children:[t("h4",{className:u.title,children:"AI Voice Assistant"}),!s&&t("span",{className:u.unsupported,children:"Voice not supported on this browser."})]}),t("p",{className:u.copy,children:"The assistant explains your weaknesses and improvement priorities automatically."}),d("div",{className:u.actions,children:[t("button",{type:"button",className:u.button,onClick:m,disabled:!s||!a,children:"Play"}),t("button",{type:"button",className:u.button,onClick:h,disabled:!s||!i,children:"Stop"})]})]})},f=(e,s,c)=>{const i=Array.isArray(s)?s.filter(Boolean):[];return d("section",{className:l.section,children:[t("h4",{className:l.sectionTitle,children:e}),i.length>0?t("ul",{className:l.list,children:i.map((o,a)=>t("li",{children:o},`${e}-${a}`))}):t("p",{className:l.empty,children:c})]})},q=({result:e})=>{var i,o;const s=e.confidenceLevel||"Unknown",c=e.voiceSummary||`Your confidence level is ${e.confidence} percent. Main weakness is ${((i=e.weaknesses)==null?void 0:i[0])||"not enough measurable impact in resume"}. Main improvement is ${((o=e.improvementPlan)==null?void 0:o[0])||"add measurable outcomes and role-specific technologies"}.`;return d("div",{className:l.result,children:[t("h3",{className:l.heading,children:"Your Future Prediction"}),d("div",{className:l.content,children:[t("p",{className:l.prediction,children:e.prediction}),d("p",{className:l.confidence,children:["Confidence: ",e.confidence,"% (",s,")"]}),d("p",{className:l.model,children:["Analysis model: ",e.llmModel||"local-llm-v1"]}),f("Weaknesses",e.weaknesses,"No major weakness detected. Keep improving role alignment."),f("Precautions For Future Applications",e.precautions,"No critical precautions found. Continue with targeted applications."),f("New Technologies You Should Learn",e.technologyRecommendations,"No extra technology suggestion available."),f("Improvement Plan",e.improvementPlan,"No improvement plan generated yet."),t(O,{message:c})]})]})},G="_container_ytk7y_5",H="_title_ytk7y_29",J="_error_ytk7y_45",g={container:G,title:H,error:J},ne=()=>{const{upload:e,loading:s,error:c}=w(),[i,o]=r.useState(null),a=async h=>{const m=await e(h);o(m)};return d("div",{className:g.container,children:[t("h1",{className:g.title,children:"Future Resume Predictor"}),t(C,{onUpload:a}),s&&t(v,{}),c&&t("div",{className:g.error,children:c}),i&&t(q,{result:i})]})};export{ne as default};
