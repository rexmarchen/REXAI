import{r as d,a as s,j as t,F as fe}from"./index-100b5ff5.js";import{a as ye}from"./apiClient-df69f537.js";import{p as _e}from"./resumeApi-09742daf.js";const A={name:"Candidate",skills:[],education:"",certifications:[],projects:[],experience_years:0,role_target:"Software Engineer"},be=[{id:"ml-1",title:"Machine Learning Engineer",company:"Antal International",location:"Hyderabad",salary:"INR 15-20 LPA",exp:"2-5 yrs",keywords:["machine learning","python","tensorflow","nlp","deep learning"],platform:"naukri",naukriUrl:"https://www.naukri.com/machine-learning-engineer-jobs-in-hyderabad",linkedinUrl:"https://www.linkedin.com/jobs/search/?keywords=Machine+Learning+Engineer&location=Hyderabad%2C+Telangana%2C+India",glassdoorUrl:"https://www.glassdoor.co.in/Job/hyderabad-machine-learning-engineer-jobs-SRCH_IL.0,9_IC2937408_KO10,35.htm"},{id:"ds-1",title:"Data Scientist (NLP)",company:"Jio Platforms",location:"Mumbai",salary:"INR 12-18 LPA",exp:"2-5 yrs",keywords:["data science","python","nlp","sql","scikit-learn"],platform:"linkedin",naukriUrl:"https://www.naukri.com/data-scientist-jobs-in-mumbai?k=data+scientist+nlp",linkedinUrl:"https://www.linkedin.com/jobs/search/?keywords=Data+Scientist+NLP&location=Mumbai%2C+Maharashtra%2C+India",glassdoorUrl:"https://www.glassdoor.co.in/Job/mumbai-data-scientist-jobs-SRCH_IL.0,6_IC2940912_KO7,21.htm"},{id:"fs-1",title:"Full Stack Developer",company:"Razorpay",location:"Bengaluru",salary:"INR 16-25 LPA",exp:"2-5 yrs",keywords:["react","node.js","javascript","typescript","sql"],platform:"naukri",naukriUrl:"https://www.naukri.com/full-stack-developer-jobs-in-bengaluru-bangalore?k=full+stack+developer",linkedinUrl:"https://www.linkedin.com/jobs/search/?keywords=Full+Stack+Developer&location=Bengaluru%2C+Karnataka%2C+India",glassdoorUrl:"https://www.glassdoor.co.in/Job/bengaluru-full-stack-developer-jobs-SRCH_IL.0,9_IC2940587_KO10,30.htm"},{id:"be-1",title:"Backend Developer",company:"PhonePe",location:"Bengaluru",salary:"INR 14-22 LPA",exp:"2-6 yrs",keywords:["node.js","express.js","mongodb","api","sql"],platform:"naukri",naukriUrl:"https://www.naukri.com/backend-developer-jobs-in-bengaluru-bangalore?k=backend+developer",linkedinUrl:"https://www.linkedin.com/jobs/search/?keywords=Backend+Developer&location=Bengaluru%2C+Karnataka%2C+India",glassdoorUrl:"https://www.glassdoor.co.in/Job/bengaluru-backend-developer-jobs-SRCH_IL.0,9_IC2940587_KO10,27.htm"},{id:"devops-1",title:"DevOps Engineer",company:"Infosys",location:"Pune",salary:"INR 11-18 LPA",exp:"3-6 yrs",keywords:["aws","docker","kubernetes","ci/cd","linux"],platform:"linkedin",naukriUrl:"https://www.naukri.com/devops-engineer-jobs-in-pune",linkedinUrl:"https://www.linkedin.com/jobs/search/?keywords=DevOps+Engineer&location=Pune%2C+Maharashtra%2C+India",glassdoorUrl:"https://www.glassdoor.co.in/Job/pune-devops-engineer-jobs-SRCH_IL.0,4_IC2856202_KO5,21.htm"},{id:"an-1",title:"Senior Data Analyst",company:"Ola Electric",location:"Bengaluru",salary:"INR 12-18 LPA",exp:"3-6 yrs",keywords:["data analysis","sql","python","tableau","reporting"],platform:"naukri",naukriUrl:"https://www.naukri.com/senior-data-analyst-jobs-in-bengaluru-bangalore?k=senior+data+analyst",linkedinUrl:"https://www.linkedin.com/jobs/search/?keywords=Senior+Data+Analyst&location=Bengaluru%2C+Karnataka%2C+India",glassdoorUrl:"https://www.glassdoor.co.in/Job/bengaluru-senior-data-analyst-jobs-SRCH_IL.0,9_IC2940587_KO10,29.htm"}],se={naukri:{label:"Naukri",color:"#f05537"},linkedin:{label:"LinkedIn",color:"#0a66c2"},glassdoor:{label:"Glassdoor",color:"#0f9b57"}};function ie(n,r,i){return Math.max(r,Math.min(i,n))}function U(n){return Array.isArray(n)?n.map(r=>String(r||"").trim()).filter(Boolean):[]}function we(n){const r={...A,...n||{}},i=Number(r.experience_years);return{...r,name:String(r.name||A.name).trim()||A.name,role_target:String(r.role_target||A.role_target).trim()||A.role_target,skills:U(r.skills),certifications:U(r.certifications),projects:U(r.projects),education:String(r.education||"").trim(),experience_years:Number.isFinite(i)?Math.max(0,i):0}}function ke(n,r){const i=r.role_target.toLowerCase(),f=r.skills.map(p=>p.toLowerCase()),b=r.certifications.map(p=>p.toLowerCase()),k=r.projects.map(p=>p.toLowerCase()),m=`${n.title} ${n.keywords.join(" ")}`.toLowerCase();let w=35;for(const p of f)p&&m.includes(p)&&(w+=6);for(const p of b){const h=p.split(/\s+/)[0];h&&m.includes(h)&&(w+=2)}for(const p of k){const h=p.split(/\s+/)[0];h&&m.includes(h)&&(w+=1)}return i&&m.includes(i.split(/\s+/)[0])&&(w+=8),w+=ie(r.experience_years,0,8),ie(Math.round(w),20,98)}function xe(n){return n>=75?{label:"Highly Ready",color:"#00e5a0"}:n>=50?{label:"Moderately Ready",color:"#f5c518"}:{label:"Needs Prep",color:"#ff4e6a"}}function Se(n){return be.map(r=>({...r,matchScore:ke(r,n),primaryUrl:r.platform==="linkedin"?r.linkedinUrl:r.platform==="glassdoor"?r.glassdoorUrl:r.naukriUrl})).sort((r,i)=>i.matchScore-r.matchScore)}function Ne(n){return n>=75?"high":n>=50?"mid":"low"}function Ce(n){return n>=75?"#00e5a0":n>=50?"#f5c518":"#ff4e6a"}function ve({score:n}){const r=Ce(n);return s("div",{style:o.meterWrap,children:[t("div",{style:o.meterTrack,children:t("div",{style:{...o.meterFill,width:`${n}%`,backgroundColor:r}})}),s("p",{style:{...o.meterLabel,color:r},children:[n,"% match"]})]})}function Re({job:n}){const r=xe(n.matchScore),i=se[n.platform]||se.naukri;return s("article",{style:o.card,children:[s("div",{style:o.cardTopRow,children:[t("span",{style:{...o.platformBadge,borderColor:`${i.color}66`,color:i.color},children:i.label}),s("span",{style:o.scoreBadge,children:[n.matchScore,"%"]})]}),t("h3",{style:o.cardTitle,children:n.title}),t("p",{style:o.cardCompany,children:n.company}),s("p",{style:o.cardMeta,children:[n.location," | ",n.exp]}),t("p",{style:o.cardSalary,children:n.salary}),t(ve,{score:n.matchScore}),t("div",{style:{...o.readyBadge,color:r.color,borderColor:`${r.color}4d`},children:r.label}),s("div",{style:o.linkGrid,children:[t("a",{href:n.naukriUrl,target:"_blank",rel:"noreferrer",style:o.linkBtn,children:"Naukri Apply"}),t("a",{href:n.linkedinUrl,target:"_blank",rel:"noreferrer",style:o.linkBtn,children:"LinkedIn Apply"}),t("a",{href:n.glassdoorUrl,target:"_blank",rel:"noreferrer",style:o.linkBtn,children:"Glassdoor Apply"})]}),t("a",{href:n.primaryUrl,target:"_blank",rel:"noreferrer",style:o.primaryApply,children:"Apply Now"})]})}function Ae({resume:n=A}){const r=d.useMemo(()=>we(n),[n]),[i,f]=d.useState([]),[b,k]=d.useState(""),[m,w]=d.useState("all");d.useEffect(()=>{f(Se(r))},[r]);const p=d.useMemo(()=>{const l=b.toLowerCase().trim();return i.filter(_=>{const x=m==="all"?!0:Ne(_.matchScore)===m,S=l.length===0?!0:`${_.title} ${_.company} ${_.location}`.toLowerCase().includes(l);return x&&S})},[i,b,m]),h=i.length===0?0:Math.round(i.reduce((l,_)=>l+_.matchScore,0)/i.length);return s("section",{style:o.root,children:[t("style",{children:Le}),s("header",{style:o.header,children:[t("p",{style:o.kicker,children:"AI JOB MATCHING"}),t("h2",{style:o.heading,children:"Matched Opportunities"}),s("p",{style:o.subheading,children:["Showing role-fit jobs for ",t("strong",{children:r.name})," targeting"," ",t("strong",{children:r.role_target}),"."]})]}),s("div",{style:o.summaryRow,children:[s("div",{style:o.summaryItem,children:[t("span",{style:o.summaryValue,children:i.length}),t("span",{style:o.summaryLabel,children:"Jobs Found"})]}),s("div",{style:o.summaryItem,children:[s("span",{style:o.summaryValue,children:[h,"%"]}),t("span",{style:o.summaryLabel,children:"Avg Match"})]}),s("div",{style:o.summaryItem,children:[t("span",{style:o.summaryValue,children:r.experience_years}),t("span",{style:o.summaryLabel,children:"Years Exp"})]})]}),s("div",{style:o.controls,children:[t("input",{type:"text",value:b,onChange:l=>k(l.target.value),placeholder:"Search role, company, city",style:o.searchInput}),t("div",{style:o.filterRow,children:[["all","All"],["high","75%+"],["mid","50-74%"],["low","<50%"]].map(([l,_])=>t("button",{type:"button",onClick:()=>w(l),style:{...o.filterBtn,...m===l?o.filterBtnActive:{}},children:_},l))})]}),p.length===0?t("div",{style:o.emptyState,children:"No jobs matched this filter. Try changing search or score band."}):t("div",{style:o.grid,children:p.map(l=>t(Re,{job:l},l.id))})]})}const Le=`
  @import url('https://fonts.googleapis.com/css2?family=Syne:wght@500;700;800&family=DM+Sans:wght@400;500;700&display=swap');
`,o={root:{width:"100%",backgroundColor:"#090d16",border:"1px solid #173040",borderRadius:"18px",padding:"24px",color:"#e8ecf3",fontFamily:"'DM Sans', sans-serif",boxShadow:"0 24px 48px rgba(0, 0, 0, 0.35)"},header:{marginBottom:"18px"},kicker:{color:"#00e5a0",letterSpacing:"0.16em",fontSize:"11px",fontWeight:700,marginBottom:"8px"},heading:{margin:0,fontSize:"clamp(24px, 4vw, 32px)",fontFamily:"'Syne', sans-serif",lineHeight:1.15},subheading:{marginTop:"8px",color:"#9ea9bc",lineHeight:1.6},summaryRow:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:"10px",marginBottom:"16px"},summaryItem:{backgroundColor:"#0f1623",border:"1px solid #1a2d40",borderRadius:"12px",padding:"12px"},summaryValue:{display:"block",fontSize:"24px",fontWeight:700,color:"#00e5a0",fontFamily:"'Syne', sans-serif"},summaryLabel:{color:"#8a94a7",fontSize:"12px",textTransform:"uppercase",letterSpacing:"0.08em"},controls:{display:"grid",gap:"10px",marginBottom:"16px"},searchInput:{width:"100%",border:"1px solid #1d3345",borderRadius:"10px",backgroundColor:"#0c1420",color:"#e8ecf3",padding:"11px 12px",outline:"none",fontSize:"14px",fontFamily:"'DM Sans', sans-serif"},filterRow:{display:"flex",gap:"8px",flexWrap:"wrap"},filterBtn:{border:"1px solid #2a3f4f",borderRadius:"999px",backgroundColor:"#0d1521",color:"#93a2b6",padding:"7px 12px",cursor:"pointer",fontFamily:"'DM Sans', sans-serif",fontSize:"12px"},filterBtnActive:{color:"#00e5a0",borderColor:"#00e5a0",backgroundColor:"#00e5a014"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(260px, 1fr))",gap:"14px"},card:{backgroundColor:"#0d1521",border:"1px solid #1f3243",borderRadius:"14px",padding:"14px",display:"flex",flexDirection:"column",gap:"8px"},cardTopRow:{display:"flex",alignItems:"center",justifyContent:"space-between"},platformBadge:{fontSize:"11px",border:"1px solid",borderRadius:"999px",padding:"4px 8px"},scoreBadge:{color:"#00e5a0",fontWeight:700,fontSize:"14px"},cardTitle:{margin:0,fontFamily:"'Syne', sans-serif",fontSize:"18px",lineHeight:1.2},cardCompany:{margin:0,color:"#d1d7e2",fontWeight:500},cardMeta:{margin:0,color:"#94a0b4",fontSize:"13px"},cardSalary:{margin:0,color:"#00e5a0",fontSize:"13px"},meterWrap:{marginTop:"2px"},meterTrack:{width:"100%",height:"6px",backgroundColor:"#1f3344",borderRadius:"999px",overflow:"hidden"},meterFill:{height:"100%",borderRadius:"999px",transition:"width 0.35s ease"},meterLabel:{margin:"5px 0 0",fontSize:"12px",fontWeight:700},readyBadge:{alignSelf:"flex-start",border:"1px solid",borderRadius:"999px",padding:"4px 9px",fontSize:"11px",fontWeight:700},linkGrid:{marginTop:"4px",display:"grid",gridTemplateColumns:"repeat(3, minmax(0, 1fr))",gap:"6px"},linkBtn:{border:"1px solid #2c4152",borderRadius:"8px",backgroundColor:"#0a111b",color:"#9eb0c4",fontSize:"11px",textAlign:"center",textDecoration:"none",padding:"7px 6px"},primaryApply:{marginTop:"6px",textAlign:"center",borderRadius:"9px",background:"linear-gradient(90deg, #00e5a0, #00b4d8)",color:"#041017",textDecoration:"none",fontFamily:"'Syne', sans-serif",fontWeight:700,padding:"10px 10px"},emptyState:{border:"1px dashed #2b4153",borderRadius:"12px",textAlign:"center",color:"#92a2b7",padding:"24px"}},J=ye.create({baseURL:"http://127.0.0.1:8000"});J.interceptors.response.use(n=>n.data,n=>Promise.reject(n));const Ie=async n=>{const r=new FormData;for(const i of n)r.append("resumes",i);return J.post("/upload-resumes",r)},Te=async({jobDescription:n,resumeIds:r})=>J.post("/match",{job_description:n,resume_ids:r}),Be="_container_1w6ng_3",Me="_embedded_1w6ng_13",ze="_content_1w6ng_19",Ee="_header_1w6ng_27",De="_kicker_1w6ng_35",Fe="_title_1w6ng_44",$e="_subtitle_1w6ng_52",Pe="_headerActions_1w6ng_59",je="_stepper_1w6ng_66",Ue="_stepItem_1w6ng_77",Je="_stepIndex_1w6ng_85",We="_stepLabel_1w6ng_101",He="_complete_1w6ng_110",Oe="_current_1w6ng_116",Ge="_panel_1w6ng_123",Ke="_fadeSlide_1w6ng_131",Ve="_fadeSlideIn_1w6ng_1",qe="_panelTitle_1w6ng_135",Xe="_dropzone_1w6ng_142",Ye="_dropzoneActive_1w6ng_151",Qe="_fileInput_1w6ng_157",Ze="_dropTitle_1w6ng_161",et="_dropHint_1w6ng_168",tt="_primaryButton_1w6ng_174",nt="_fileInfo_1w6ng_189",rt="_analyzeButton_1w6ng_195",at="_loadingState_1w6ng_213",st="_spinner_1w6ng_226",it="_spin_1w6ng_226",lt="_error_1w6ng_235",ot="_resultGrid_1w6ng_245",ct="_resultCard_1w6ng_251",dt="_resultLabel_1w6ng_258",pt="_resultValue_1w6ng_267",ut="_confidenceWrap_1w6ng_274",mt="_confidenceHeader_1w6ng_282",ht="_confidenceTrack_1w6ng_295",gt="_confidenceFill_1w6ng_303",ft="_skillsSection_1w6ng_310",yt="_chipList_1w6ng_314",_t="_skillChip_1w6ng_321",bt="_removeChip_1w6ng_334",wt="_skillInputRow_1w6ng_344",kt="_textInput_1w6ng_351",xt="_secondaryButton_1w6ng_367",St="_listGrid_1w6ng_383",Nt="_listCard_1w6ng_390",Ct="_list_1w6ng_383",vt="_emptyText_1w6ng_405",Rt="_matchingButton_1w6ng_411",At="_atsSection_1w6ng_424",Lt="_jobTextarea_1w6ng_432",It="_atsActions_1w6ng_451",Tt="_atsResultList_1w6ng_458",Bt="_atsResultCard_1w6ng_465",Mt="_atsTopRow_1w6ng_472",zt="_atsRank_1w6ng_481",Et="_atsMeta_1w6ng_489",Dt="_atsSkillWrap_1w6ng_496",Ft="_missingSkillChip_1w6ng_500",e={container:Be,embedded:Me,content:ze,header:Ee,kicker:De,title:Fe,subtitle:$e,headerActions:Pe,stepper:je,stepItem:Ue,stepIndex:Je,stepLabel:We,complete:He,current:Oe,panel:Ge,fadeSlide:Ke,fadeSlideIn:Ve,panelTitle:qe,dropzone:Xe,dropzoneActive:Ye,fileInput:Qe,dropTitle:Ze,dropHint:et,primaryButton:tt,fileInfo:nt,analyzeButton:rt,loadingState:at,spinner:st,spin:it,error:lt,resultGrid:ot,resultCard:ct,resultLabel:dt,resultValue:pt,confidenceWrap:ut,confidenceHeader:mt,confidenceTrack:ht,confidenceFill:gt,skillsSection:ft,chipList:yt,skillChip:_t,removeChip:bt,skillInputRow:wt,textInput:kt,secondaryButton:xt,listGrid:St,listCard:Nt,list:Ct,emptyText:vt,matchingButton:Rt,atsSection:At,jobTextarea:Lt,atsActions:It,atsResultList:Tt,atsResultCard:Bt,atsTopRow:Mt,atsRank:zt,atsMeta:Et,atsSkillWrap:Dt,missingSkillChip:Ft},$t=10*1024*1024,Pt=[".pdf",".doc",".docx"],jt=[{id:1,label:"Upload Resume"},{id:2,label:"Prediction Results"},{id:3,label:"Job Matching"}];function le(n,r,i){return Math.max(r,Math.min(i,n))}function L(n){return Array.isArray(n)?n.map(r=>String(r||"").trim()).filter(Boolean):[]}function Ut(n){if(!n||typeof n!="object")return null;const r=Number(n.confidence),i=Number.isFinite(r)&&r>1?le(r/100,0,1):le(r||0,0,1),f=Number(n.experience_years);return{name:String(n.name||"").trim(),skills:L(n.skills),education:String(n.education||"").trim(),certifications:L(n.certifications),projects:L(n.projects),experience_years:Number.isFinite(f)?Math.max(0,f):0,predicted_role:String(n.predicted_role||"").trim(),confidence:i}}function Jt(n){const r=Number(n);if(!Number.isFinite(r)||r<0)return"0 B";if(r<1024)return`${r} B`;const i=r/1024;return i<1024?`${i.toFixed(1)} KB`:`${(i/1024).toFixed(2)} MB`}function Wt(n,r){const i=String((n==null?void 0:n.predicted_role)||"").trim()||"Software Engineer",f=Number((n==null?void 0:n.experience_years)||0),b=L(r).slice(0,12),k=b.length?b.join(", "):"software development, problem solving, API development";return[`Hiring for ${i}.`,`Required skills: ${k}.`,f>0?`Preferred experience: around ${f} years.`:"Experience: 0-5 years.","Must be able to build production-ready solutions and collaborate with cross-functional teams."].join(" ")}const Kt=({embedded:n=!1})=>{const r=d.useRef(null),[i,f]=d.useState(null),[b,k]=d.useState(1),[m,w]=d.useState(!1),[p,h]=d.useState(""),[l,_]=d.useState(null),[x,S]=d.useState([]),[W,E]=d.useState(""),[D,I]=d.useState(!1),[F,oe]=d.useState(null),[ce,T]=d.useState(!1),[B,v]=d.useState(!1),[H,O]=d.useState(""),[M,$]=d.useState([]),[G,P]=d.useState(!1),[K,R]=d.useState(""),[V,j]=d.useState([]);d.useEffect(()=>{if(!l){S([]);return}S(L(l.skills))},[l]),d.useEffect(()=>{if(D){k(3);return}if(m||l||B&&p){k(2);return}k(1)},[B,m,l,D,p]);const q=d.useMemo(()=>l?{name:l.name||"Candidate",skills:x,education:l.education,certifications:l.certifications,projects:l.projects,experience_years:l.experience_years,role_target:l.predicted_role||"Software Engineer"}:null,[x,l]),X=a=>{if(!a)return"Please choose a resume file.";const c=a.name.toLowerCase();return Pt.some(u=>c.endsWith(u))?a.size>$t?"File too large. Maximum supported size is 10MB.":"":"Only PDF, DOC, and DOCX files are supported."},Y=a=>{const c=X(a);if(c){h(c),f(null),v(!1);return}h(""),v(!1),f(a)},de=async()=>{var c,y;const a=X(i);if(a){h(a),v(!1);return}v(!0),h(""),w(!0),I(!1);try{const u=await _e(i),N=Ut(u);if(!N)throw new Error("Prediction API returned an invalid response.");_(N),oe(N),R(""),j([]),$([])}catch(u){const N=((y=(c=u==null?void 0:u.response)==null?void 0:c.data)==null?void 0:y.message)||u.message||"Unable to analyze this resume right now.";h(N)}finally{w(!1)}},pe=a=>{S(c=>c.filter(y=>y!==a))},Q=()=>{const a=W.trim();a&&(S(c=>c.some(u=>u.toLowerCase()===a.toLowerCase())?c:[...c,a]),E(""))},ue=()=>{f(null),_(null),I(!1),S([]),E(""),h(""),v(!1),O(""),$([]),P(!1),R(""),j([]),r.current&&(r.current.value="")},me=()=>{F&&(_(F),h(""),I(!1),v(!0))},he=async()=>{var Z,ee,te,ne,re;const c=H.trim()||Wt(l,x);if(!i&&M.length===0){R("Upload at least one resume file before running ATS match.");return}const y=[i,...M].filter(Boolean),u=new Map;for(const g of y){const C=`${g.name}-${g.size}`;u.has(C)||u.set(C,g)}const N=Array.from(u.values());P(!0),R("");try{const g=await Ie(N),C=((Z=g==null?void 0:g.resumes)==null?void 0:Z.map(ge=>ge.resume_id).filter(Boolean))||[];if(C.length===0)throw new Error("ATS upload succeeded but no resume IDs were returned.");const z=await Te({jobDescription:c,resumeIds:C}),ae=Array.isArray(z==null?void 0:z.results)?z.results:[];j(ae),ae.length===0&&R("No ATS results returned for the uploaded resumes.")}catch(g){const C=((te=(ee=g==null?void 0:g.response)==null?void 0:ee.data)==null?void 0:te.detail)||((re=(ne=g==null?void 0:g.response)==null?void 0:ne.data)==null?void 0:re.message)||g.message||"ATS engine request failed.";R(C)}finally{P(!1)}};return t("div",{className:`${e.container} ${n?e.embedded:""}`,children:s("div",{className:e.content,children:[s("header",{className:e.header,children:[t("p",{className:e.kicker,children:"RESUME TO JOB PIPELINE"}),t("h1",{className:e.title,children:"Analyze Resume and Find Matching Jobs"}),t("p",{className:e.subtitle,children:"Upload your resume, review extracted profile data, then jump straight into role-based job opportunities."}),s("div",{className:e.headerActions,children:[t("button",{type:"button",className:e.secondaryButton,onClick:ue,children:"Re-upload"}),F&&!l&&t("button",{type:"button",className:e.secondaryButton,onClick:me,children:"Restore Last Result"})]})]}),t("div",{className:e.stepper,children:jt.map(a=>{const c=b>a.id,y=b===a.id;return s("div",{className:e.stepItem,children:[t("div",{className:`${e.stepIndex} ${c?e.complete:""} ${y?e.current:""}`,children:a.id}),t("span",{className:e.stepLabel,children:a.label})]},a.id)})}),s("section",{className:`${e.panel} ${e.fadeSlide}`,children:[t("h2",{className:e.panelTitle,children:"Step 1 - Upload Resume"}),s("div",{className:`${e.dropzone} ${ce?e.dropzoneActive:""}`,onDragEnter:a=>{a.preventDefault(),T(!0)},onDragOver:a=>{a.preventDefault(),T(!0)},onDragLeave:a=>{a.preventDefault(),T(!1)},onDrop:a=>{var c;a.preventDefault(),T(!1),Y((c=a.dataTransfer.files)==null?void 0:c[0])},children:[t("input",{ref:r,id:"resume-input",type:"file",accept:".pdf,.doc,.docx",className:e.fileInput,onChange:a=>{var c;return Y((c=a.target.files)==null?void 0:c[0])}}),t("p",{className:e.dropTitle,children:"Drag and drop your PDF or DOCX here"}),t("p",{className:e.dropHint,children:"or click below to browse files"}),t("label",{htmlFor:"resume-input",className:e.primaryButton,children:"Choose Resume"}),i&&s("p",{className:e.fileInfo,children:[i.name," (",Jt(i.size),")"]})]}),t("button",{type:"button",className:e.analyzeButton,onClick:de,disabled:m||!i,children:m?"Analyzing Resume...":"Analyze Resume"}),p&&!B&&t("p",{className:e.error,children:p})]}),(m||l||B&&p)&&s("section",{className:`${e.panel} ${e.fadeSlide}`,children:[t("h2",{className:e.panelTitle,children:"Step 2 - Prediction Results"}),m&&s("div",{className:e.loadingState,children:[t("span",{className:e.spinner}),t("p",{children:"Running AI extraction and prediction..."})]}),!m&&p&&t("p",{className:e.error,children:p}),!m&&l&&s(fe,{children:[s("div",{className:e.resultGrid,children:[s("div",{className:e.resultCard,children:[t("p",{className:e.resultLabel,children:"Name"}),t("p",{className:e.resultValue,children:l.name||"Not detected"})]}),s("div",{className:e.resultCard,children:[t("p",{className:e.resultLabel,children:"Education"}),t("p",{className:e.resultValue,children:l.education||"Not detected"})]}),s("div",{className:e.resultCard,children:[t("p",{className:e.resultLabel,children:"Experience"}),s("p",{className:e.resultValue,children:[l.experience_years," years"]})]}),s("div",{className:e.resultCard,children:[t("p",{className:e.resultLabel,children:"Predicted Role"}),t("p",{className:e.resultValue,children:l.predicted_role||"Not detected"})]})]}),s("div",{className:e.confidenceWrap,children:[s("div",{className:e.confidenceHeader,children:[t("span",{children:"Prediction Confidence"}),s("strong",{children:[Math.round(l.confidence*100),"%"]})]}),t("div",{className:e.confidenceTrack,children:t("div",{className:e.confidenceFill,style:{width:`${Math.round(l.confidence*100)}%`}})})]}),s("div",{className:e.skillsSection,children:[t("p",{className:e.resultLabel,children:"Skills (editable)"}),s("div",{className:e.chipList,children:[x.length===0&&t("span",{className:e.emptyText,children:"No skills found yet."}),x.map(a=>s("span",{className:e.skillChip,children:[a,t("button",{type:"button",className:e.removeChip,onClick:()=>pe(a),"aria-label":`Remove ${a}`,children:"x"})]},a))]}),s("div",{className:e.skillInputRow,children:[t("input",{value:W,onChange:a=>E(a.target.value),onKeyDown:a=>{a.key==="Enter"&&(a.preventDefault(),Q())},placeholder:"Add a skill",className:e.textInput}),t("button",{type:"button",className:e.secondaryButton,onClick:Q,children:"Add Skill"})]})]}),s("div",{className:e.listGrid,children:[s("div",{className:e.listCard,children:[t("p",{className:e.resultLabel,children:"Certifications"}),l.certifications.length===0?t("p",{className:e.emptyText,children:"No certifications detected."}):t("ul",{className:e.list,children:l.certifications.map(a=>t("li",{children:a},a))})]}),s("div",{className:e.listCard,children:[t("p",{className:e.resultLabel,children:"Projects"}),l.projects.length===0?t("p",{className:e.emptyText,children:"No projects detected."}):t("ul",{className:e.list,children:l.projects.map(a=>t("li",{children:a},a))})]})]}),s("div",{className:e.atsSection,children:[t("p",{className:e.resultLabel,children:"ATS Match (Python Model)"}),t("p",{className:e.emptyText,children:"Job description is optional. ATS will auto-generate it from resume role and skills."}),t("textarea",{value:H,onChange:a=>O(a.target.value),placeholder:"Optional: paste your own job description. Leave empty for auto mode.",className:e.jobTextarea}),s("div",{className:e.atsActions,children:[t("label",{htmlFor:"ats-files",className:e.secondaryButton,children:"Add More Resumes"}),t("input",{id:"ats-files",type:"file",accept:".pdf,.doc,.docx",multiple:!0,className:e.fileInput,onChange:a=>$(Array.from(a.target.files||[]))}),t("button",{type:"button",className:e.secondaryButton,onClick:he,disabled:G,children:G?"Running ATS...":"Run ATS Match"})]}),M.length>0&&s("p",{className:e.fileInfo,children:[M.length," extra resume(s) selected for ranking."]}),K&&t("p",{className:e.error,children:K}),V.length>0&&t("div",{className:e.atsResultList,children:V.map(a=>{var c,y;return s("article",{className:e.atsResultCard,children:[s("div",{className:e.atsTopRow,children:[t("strong",{children:a.filename}),s("span",{className:e.atsRank,children:["Rank #",a.rank]})]}),s("p",{className:e.atsMeta,children:["ATS Score: ",a.ats_score,"% | Category: ",a.predicted_category]}),s("div",{className:e.atsSkillWrap,children:[t("p",{className:e.resultLabel,children:"Extracted Skills"}),t("div",{className:e.chipList,children:(c=a.extracted_skills)==null?void 0:c.map(u=>t("span",{className:e.skillChip,children:u},`${a.resume_id}-${u}`))})]}),s("div",{className:e.atsSkillWrap,children:[t("p",{className:e.resultLabel,children:"Missing Skills"}),t("div",{className:e.chipList,children:(y=a.missing_skills)!=null&&y.length?a.missing_skills.map(u=>t("span",{className:e.missingSkillChip,children:u},`${a.resume_id}-miss-${u}`)):t("span",{className:e.emptyText,children:"No critical missing skills detected."})})]})]},a.resume_id)})})]}),t("button",{type:"button",className:e.matchingButton,onClick:()=>I(!0),children:"Find Matching Jobs ->"})]})]}),D&&q&&s("section",{className:`${e.panel} ${e.fadeSlide}`,children:[t("h2",{className:e.panelTitle,children:"Step 3 - Job Matching Engine"}),t(Ae,{resume:q})]})]})})};export{Kt as default};
