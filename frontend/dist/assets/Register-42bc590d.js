import{b as S,r as i,a as o,j as s,L as x}from"./index-4e2d78c6.js";import{A as k,a as L}from"./authApi-b9f00b23.js";import"./apiClient-7b8a2ab4.js";const E="_page_2wveo_3",B="_particlesLayer_2wveo_13",A="_card_2wveo_23",F="_title_2wveo_37",R="_subtitle_2wveo_45",T="_form_2wveo_52",W="_field_2wveo_58",j="_passwordWrap_2wveo_84",H="_toggleButton_2wveo_93",I="_checkboxLabel_2wveo_107",q="_submitButton_2wveo_119",M="_error_2wveo_136",O="_success_2wveo_141",z="_footerText_2wveo_147",a={page:E,particlesLayer:B,card:A,title:F,subtitle:R,form:T,field:W,passwordWrap:j,toggleButton:H,checkboxLabel:I,submitButton:q,error:M,success:O,footerText:z},X=()=>{const b=S(),[p,w]=i.useState(!1),[d,v]=i.useState(!1),[m,N]=i.useState(!1),[r,c]=i.useState({fullName:"",email:"",password:"",confirmPassword:"",agree:!1}),[l,y]=i.useState({}),[h,f]=i.useState(""),[g,_]=i.useState(""),C=()=>{const e={};return r.fullName.trim()||(e.fullName="Full name is required."),r.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.email)||(e.email="Enter a valid email address."):e.email="Email is required.",r.password?r.password.length<8&&(e.password="Password must be at least 8 characters."):e.password="Password is required.",r.confirmPassword?r.confirmPassword!==r.password&&(e.confirmPassword="Passwords do not match."):e.confirmPassword="Please confirm your password.",r.agree||(e.agree="You must accept terms to continue."),y(e),Object.keys(e).length===0},P=async e=>{var t,n;if(e.preventDefault(),f(""),_(""),!!C()){w(!0);try{const u=await L.register({fullName:r.fullName.trim(),email:r.email.trim(),password:r.password});f(u.message||"Registration successful. Redirecting to login..."),setTimeout(()=>b("/login"),700)}catch(u){_(((n=(t=u.response)==null?void 0:t.data)==null?void 0:n.message)||"Registration failed. Please try again.")}finally{w(!1)}}};return o("section",{className:a.page,children:[s(k,{particleCount:105,particleColor:"rgba(200, 230, 255, 0.6)",particleSize:2,repulsionForce:2.2}),s("div",{className:a.particlesLayer,"aria-hidden":"true"}),o("div",{className:a.card,children:[s("h1",{className:a.title,children:"REGISTER"}),s("p",{className:a.subtitle,children:"Create your REXION AI account"}),o("form",{className:a.form,onSubmit:P,noValidate:!0,children:[o("div",{className:a.field,children:[s("label",{htmlFor:"register-name",children:"Full Name"}),s("input",{id:"register-name",type:"text",value:r.fullName,onChange:e=>c(t=>({...t,fullName:e.target.value})),placeholder:"Anshupal",autoComplete:"name"}),l.fullName&&s("span",{className:a.error,children:l.fullName})]}),o("div",{className:a.field,children:[s("label",{htmlFor:"register-email",children:"Email"}),s("input",{id:"register-email",type:"email",value:r.email,onChange:e=>c(t=>({...t,email:e.target.value})),placeholder:"you@example.com",autoComplete:"email"}),l.email&&s("span",{className:a.error,children:l.email})]}),o("div",{className:a.field,children:[s("label",{htmlFor:"register-password",children:"Password"}),o("div",{className:a.passwordWrap,children:[s("input",{id:"register-password",type:d?"text":"password",value:r.password,onChange:e=>c(t=>({...t,password:e.target.value})),placeholder:"Create password",autoComplete:"new-password"}),s("button",{type:"button",className:a.toggleButton,onClick:()=>v(e=>!e),"aria-label":d?"Hide password":"Show password",children:d?"Hide":"Show"})]}),l.password&&s("span",{className:a.error,children:l.password})]}),o("div",{className:a.field,children:[s("label",{htmlFor:"register-confirm",children:"Confirm Password"}),o("div",{className:a.passwordWrap,children:[s("input",{id:"register-confirm",type:m?"text":"password",value:r.confirmPassword,onChange:e=>c(t=>({...t,confirmPassword:e.target.value})),placeholder:"Confirm password",autoComplete:"new-password"}),s("button",{type:"button",className:a.toggleButton,onClick:()=>N(e=>!e),"aria-label":m?"Hide password":"Show password",children:m?"Hide":"Show"})]}),l.confirmPassword&&s("span",{className:a.error,children:l.confirmPassword})]}),o("label",{className:a.checkboxLabel,children:[s("input",{type:"checkbox",checked:r.agree,onChange:e=>{const t=e.target.checked;c(n=>({...n,agree:t}))}}),"I agree to the terms and privacy policy"]}),l.agree&&s("span",{className:a.error,children:l.agree}),s("button",{type:"submit",className:a.submitButton,disabled:p,children:p?"Creating Account...":"Create Account"}),h&&s("p",{className:a.success,children:h}),g&&s("p",{className:a.error,children:g})]}),o("p",{className:a.footerText,children:["Already have an account? ",s(x,{to:"/login",children:"Login"})]})]})]})};export{X as default};
